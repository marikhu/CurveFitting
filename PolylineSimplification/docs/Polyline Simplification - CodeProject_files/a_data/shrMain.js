var requirejs,require,define;!function(global,setTimeout){var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.3.6",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;function commentReplace(e,t){return t||""}function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){var n;if(e)for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}function eachReverse(e,t){var n;if(e)for(n=e.length-1;-1<n&&(!e[n]||!t(e[n],n,e));n-=1);}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(n,e,r,i){return e&&eachProp(e,function(e,t){!r&&hasProp(n,t)||(!i||"object"!=typeof e||!e||isArray(e)||isFunction(e)||e instanceof RegExp?n[t]=e:(n[t]||(n[t]={}),mixin(n[t],e,r,i)))}),n}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,r){var i=new Error(t+"\nhttps://requirejs.org/docs/errors.html#"+e);return i.requireType=e,i.requireModules=r,n&&(i.originalError=n),i}if(void 0===define){if(void 0!==requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,r){var i,o,a=defContextName;return isArray(e)||"string"==typeof e||(o=e,isArray(t)?(e=t,t=n,n=r):e=[]),o&&o.context&&(a=o.context),i=(i=getOwn(contexts,a))||(contexts[a]=req.s.newContext(a)),o&&i.configure(o),i.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick=void 0!==setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require=require||req,req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(t){req[t]=function(){var e=contexts[defContextName];return e.require[t].apply(e,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,n){var r=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return r.type=e.scriptType||"text/javascript",r.charset="utf-8",r.async=!0,r},req.load=function(t,n,r){var e,i=t&&t.config||{};if(isBrowser)return(e=req.createNode(i,n,r)).setAttribute("data-requirecontext",t.contextName),e.setAttribute("data-requiremodule",n),!e.attachEvent||e.attachEvent.toString&&e.attachEvent.toString().indexOf("[native code")<0||isOpera?(e.addEventListener("load",t.onScriptLoad,!1),e.addEventListener("error",t.onScriptError,!1)):(useInteractive=!0,e.attachEvent("onreadystatechange",t.onScriptLoad)),e.src=r,i.onNodeCreated&&i.onNodeCreated(e,i,n,r),currentlyAddingScript=e,baseElement?head.insertBefore(e,baseElement):head.appendChild(e),currentlyAddingScript=null,e;if(isWebWorker)try{setTimeout(function(){},0),importScripts(r),t.completeLoad(n)}catch(e){t.onError(makeError("importscripts","importScripts failed for "+n+" at "+r,e,[n]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){if(head=head||e.parentNode,dataMain=e.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||-1!==mainScript.indexOf("!")||(mainScript=(src=mainScript.split("/")).pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,n,t){var r,i;"string"!=typeof e&&(t=n,n=e,e=null),isArray(n)||(t=n,n=null),!n&&isFunction(t)&&(n=[],t.length&&(t.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(e,t){n.push(t)}),n=(1===t.length?["require"]:["require","exports","module"]).concat(n))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript())&&(e=e||r.getAttribute("data-requiremodule"),i=contexts[r.getAttribute("data-requirecontext")]),i?(i.defQueue.push([e,n,t]),i.defQueueMap[e]=!0):globalDefQueue.push([e,n,t])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}function newContext(l){var n,e,p,c,u,g={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},h={},d={},r={},f=[],m={},i={},v={},_=1,b=1;function y(e,t,n){var r,i,o,a,s,l,c,u,h,d,p=t&&t.split("/"),f=g.map,m=f&&f["*"];if(e&&(l=(e=e.split("/")).length-1,g.nodeIdCompat&&jsSuffixRegExp.test(e[l])&&(e[l]=e[l].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&p&&(e=p.slice(0,p.length-1).concat(e)),function(e){var t,n;for(t=0;t<e.length;t++)if("."===(n=e[t]))e.splice(t,1),t-=1;else if(".."===n){if(0===t||1===t&&".."===e[2]||".."===e[t-1])continue;0<t&&(e.splice(t-1,2),t-=2)}}(e),e=e.join("/")),n&&f&&(p||m)){e:for(o=(i=e.split("/")).length;0<o;o-=1){if(s=i.slice(0,o).join("/"),p)for(a=p.length;0<a;a-=1)if(r=(r=getOwn(f,p.slice(0,a).join("/")))&&getOwn(r,s)){c=r,u=o;break e}!h&&m&&getOwn(m,s)&&(h=getOwn(m,s),d=o)}!c&&h&&(c=h,u=d),c&&(i.splice(0,u,c),e=i.join("/"))}return getOwn(g.pkgs,e)||e}function w(t){isBrowser&&each(scripts(),function(e){if(e.getAttribute("data-requiremodule")===t&&e.getAttribute("data-requirecontext")===p.contextName)return e.parentNode.removeChild(e),!0})}function k(e){var t=getOwn(g.paths,e);if(t&&isArray(t)&&1<t.length)return t.shift(),p.require.undef(e),p.makeRequire(null,{skipMap:!0})([e]),!0}function S(e){var t,n=e?e.indexOf("!"):-1;return-1<n&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function x(e,t,n,r){var i,o,a,s,l=null,c=t?t.name:null,u=e,h=!0,d="";return e||(h=!1,e="_@r"+(_+=1)),l=(s=S(e))[0],e=s[1],l&&(l=y(l,c,r),o=getOwn(m,l)),e&&(l?d=n?e:o&&o.normalize?o.normalize(e,function(e){return y(e,c,r)}):-1===e.indexOf("!")?y(e,c,r):e:(l=(s=S(d=y(e,c,r)))[0],d=s[1],n=!0,i=p.nameToUrl(d))),{prefix:l,name:d,parentMap:t,unnormalized:!!(a=!l||o||n?"":"_unnormalized"+(b+=1)),url:i,originalName:u,isDefine:h,id:(l?l+"!"+d:d)+a}}function R(e){var t=e.id,n=getOwn(h,t);return n=n||(h[t]=new p.Module(e))}function E(e,t,n){var r=e.id,i=getOwn(h,r);!hasProp(m,r)||i&&!i.defineEmitComplete?(i=R(e)).error&&"error"===t?n(i.error):i.on(t,n):"defined"===t&&n(m[r])}function j(n,e){var t=n.requireModules,r=!1;e?e(n):(each(t,function(e){var t=getOwn(h,e);t&&(t.error=n,t.events.error&&(r=!0,t.emit("error",n)))}),r||req.onError(n))}function C(){globalDefQueue.length&&(each(globalDefQueue,function(e){var t=e[0];"string"==typeof t&&(p.defQueueMap[t]=!0),f.push(e)}),globalDefQueue=[])}function I(e){delete h[e],delete d[e]}function O(){var e,r,t=1e3*g.waitSeconds,i=t&&p.startTime+t<(new Date).getTime(),o=[],a=[],s=!1,l=!0;if(!n){if(n=!0,eachProp(d,function(e){var t=e.map,n=t.id;if(e.enabled&&(t.isDefine||a.push(e),!e.error))if(!e.inited&&i)k(n)?s=r=!0:(o.push(n),w(n));else if(!e.inited&&e.fetched&&t.isDefine&&(s=!0,!t.prefix))return l=!1}),i&&o.length)return(e=makeError("timeout","Load timeout for modules: "+o,null,o)).contextName=p.contextName,j(e);l&&each(a,function(e){!function i(o,a,s){var e=o.map.id;o.error?o.emit("error",o.error):(a[e]=!0,each(o.depMaps,function(e,t){var n=e.id,r=getOwn(h,n);!r||o.depMatched[t]||s[n]||(getOwn(a,n)?(o.defineDep(t,m[n]),o.check()):i(r,a,s))}),s[e]=!0)}(e,{},{})}),i&&!r||!s||!isBrowser&&!isWebWorker||u||(u=setTimeout(function(){u=0,O()},50)),n=!1}}function a(e){hasProp(m,e[0])||R(x(e[0],null,!0)).init(e[1],e[2])}function o(e,t,n,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(n,t,!1)}function s(e){var t=e.currentTarget||e.srcElement;return o(t,p.onScriptLoad,"load","onreadystatechange"),o(t,p.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function A(){var e;for(C();f.length;){if(null===(e=f.shift())[0])return j(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));a(e)}p.defQueueMap={}}return c={require:function(e){return e.require?e.require:e.require=p.makeRequire(e.map)},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports?m[e.map.id]=e.exports:e.exports=m[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(g.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},(e=function(e){this.events=getOwn(r,e.id)||{},this.map=e,this.shim=getOwn(g.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0}).prototype={init:function(e,t,n,r){r=r||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,p.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();p.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;i[e]||(i[e]=!0,p.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var t,e,n=this.map.id,r=this.depExports,i=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{i=p.execCb(n,o,r,i)}catch(e){t=e}else i=p.execCb(n,o,r,i);if(this.map.isDefine&&void 0===i&&((e=this.module)?i=e.exports:this.usingExports&&(i=this.exports)),t)return t.requireMap=this.map,t.requireModules=this.map.isDefine?[this.map.id]:null,t.requireType=this.map.isDefine?"define":"require",j(this.error=t)}else i=o;if(this.exports=i,this.map.isDefine&&!this.ignore&&(m[n]=i,req.onResourceLoad)){var a=[];each(this.depMaps,function(e){a.push(e.normalizedMap||e)}),req.onResourceLoad(p,this.map,a)}I(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(p.defQueueMap,n)||this.fetch()}},callPlugin:function(){var l=this.map,c=l.id,e=x(l.prefix);this.depMaps.push(e),E(e,"defined",bind(this,function(e){var o,t,n,r=getOwn(v,this.map.id),i=this.map.name,a=this.map.parentMap?this.map.parentMap.name:null,s=p.makeRequire(l.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(e.normalize&&(i=e.normalize(i,function(e){return y(e,a,!0)})||""),E(t=x(l.prefix+"!"+i,this.map.parentMap,!0),"defined",bind(this,function(e){this.map.normalizedMap=t,this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),void((n=getOwn(h,t.id))&&(this.depMaps.push(t),this.events.error&&n.on("error",bind(this,function(e){this.emit("error",e)})),n.enable()))):r?(this.map.url=p.nameToUrl(r),void this.load()):((o=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})})).error=bind(this,function(e){this.inited=!0,(this.error=e).requireModules=[c],eachProp(h,function(e){0===e.map.id.indexOf(c+"_unnormalized")&&I(e.map.id)}),j(e)}),o.fromText=bind(this,function(e,t){var n=l.name,r=x(n),i=useInteractive;t&&(e=t),i&&(useInteractive=!1),R(r),hasProp(g.config,c)&&(g.config[n]=g.config[c]);try{req.exec(e)}catch(e){return j(makeError("fromtexteval","fromText eval for "+c+" failed: "+e,e,[c]))}i&&(useInteractive=!0),this.depMaps.push(r),p.completeLoad(n),s([n],o)}),void e.load(l.name,s,o,g))})),p.enable(e,this),this.pluginMaps[e.id]=e},enable:function(){(d[this.map.id]=this).enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,r,i;if("string"==typeof e){if(e=x(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,i=getOwn(c,e.id))return void(this.depExports[t]=i(this));this.depCount+=1,E(e,"defined",bind(this,function(e){this.undefed||(this.defineDep(t,e),this.check())})),this.errback?E(e,"error",bind(this,this.errback)):this.events.error&&E(e,"error",bind(this,function(e){this.emit("error",e)}))}n=e.id,r=h[n],hasProp(c,n)||!r||r.enabled||p.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(h,e.id);t&&!t.enabled&&p.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];(n=n||(this.events[e]=[])).push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},(p={config:g,contextName:l,registry:h,defined:m,urlFetched:i,defQueue:f,defQueueMap:{},Module:e,makeModuleMap:x,nextTick:req.nextTick,onError:j,configure:function(e){if(e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/"),"string"==typeof e.urlArgs){var n=e.urlArgs;e.urlArgs=function(e,t){return(-1===t.indexOf("?")?"?":"&")+n}}var r=g.shim,i={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){i[t]?(g[t]||(g[t]={}),mixin(g[t],e,!0,!0)):g[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(v[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=p.makeShimExports(e)),r[t]=e}),g.shim=r),e.packages&&each(e.packages,function(e){var t;t=(e="string"==typeof e?{name:e}:e).name,e.location&&(g.paths[t]=e.location),g.pkgs[t]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(h,function(e,t){e.inited||e.map.unnormalized||(e.map=x(t,null,!0))}),(e.deps||e.callback)&&p.require(e.deps||[],e.callback)},makeShimExports:function(t){return function(){var e;return t.init&&(e=t.init.apply(global,arguments)),e||t.exports&&getGlobal(t.exports)}},makeRequire:function(o,a){function s(e,t,n){var r,i;return a.enableBuildCallback&&t&&isFunction(t)&&(t.__requireJsBuild=!0),"string"==typeof e?isFunction(t)?j(makeError("requireargs","Invalid require call"),n):o&&hasProp(c,e)?c[e](h[o.id]):req.get?req.get(p,e,o,s):(r=x(e,o,!1,!0).id,hasProp(m,r)?m[r]:j(makeError("notloaded",'Module name "'+r+'" has not been loaded yet for context: '+l+(o?"":". Use require([])")))):(A(),p.nextTick(function(){A(),(i=R(x(null,o))).skipMap=a.skipMap,i.init(e,t,n,{enabled:!0}),O()}),s)}return a=a||{},mixin(s,{isBrowser:isBrowser,toUrl:function(e){var t,n=e.lastIndexOf("."),r=e.split("/")[0];return-1!==n&&(!("."===r||".."===r)||1<n)&&(t=e.substring(n,e.length),e=e.substring(0,n)),p.nameToUrl(y(e,o&&o.id,!0),t,!0)},defined:function(e){return hasProp(m,x(e,o,!1,!0).id)},specified:function(e){return e=x(e,o,!1,!0).id,hasProp(m,e)||hasProp(h,e)}}),o||(s.undef=function(n){C();var e=x(n,o,!0),t=getOwn(h,n);t.undefed=!0,w(n),delete m[n],delete i[e.url],delete r[n],eachReverse(f,function(e,t){e[0]===n&&f.splice(t,1)}),delete p.defQueueMap[n],t&&(t.events.defined&&(r[n]=t.events),I(n))}),s},enable:function(e){getOwn(h,e.id)&&R(e).enable()},completeLoad:function(e){var t,n,r,i=getOwn(g.shim,e)||{},o=i.exports;for(C();f.length;){if(null===(n=f.shift())[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);a(n)}if(p.defQueueMap={},r=getOwn(h,e),!t&&!hasProp(m,e)&&r&&!r.inited){if(!(!g.enforceDefine||o&&getGlobal(o)))return k(e)?void 0:j(makeError("nodefine","No define call for "+e,null,[e]));a([e,i.deps||[],i.exportsFn])}O()},nameToUrl:function(e,t,n){var r,i,o,a,s,l,c=getOwn(g.pkgs,e);if(c&&(e=c),l=getOwn(v,e))return p.nameToUrl(l,t,n);if(req.jsExtRegExp.test(e))a=e+(t||"");else{for(r=g.paths,o=(i=e.split("/")).length;0<o;o-=1)if(s=getOwn(r,i.slice(0,o).join("/"))){isArray(s)&&(s=s[0]),i.splice(0,o,s);break}a=i.join("/"),a=("/"===(a+=t||(/^data\:|^blob\:|\?/.test(a)||n?"":".js")).charAt(0)||a.match(/^[\w\+\.\-]+:/)?"":g.baseUrl)+a}return g.urlArgs&&!/^blob\:/.test(a)?a+g.urlArgs(e,a):a},load:function(e,t){req.load(p,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=s(e);p.completeLoad(t.id)}},onScriptError:function(e){var n=s(e);if(!k(n.id)){var r=[];return eachProp(h,function(e,t){0!==t.indexOf("_@r")&&each(e.depMaps,function(e){if(e.id===n.id)return r.push(t),!0})}),j(makeError("scripterror",'Script error for "'+n.id+(r.length?'", needed by: '+r.join(", "):'"'),e,[n.id]))}}}).require=p.makeRequire(),p}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState||eachReverse(scripts(),function(e){if("interactive"===e.readyState)return interactiveScript=e}),interactiveScript}}(this,"undefined"==typeof setTimeout?void 0:setTimeout),define("requirejs",function(){}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("es6-object-assign",[],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ObjectAssign=e()}}(function(){return function o(a,s,l){function c(n,e){if(!s[n]){if(!a[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(u)return u(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var i=s[n]={exports:{}};a[n][0].call(i.exports,function(e){var t=a[n][1][e];return c(t||e)},i,i.exports,o,a,s,l)}return s[n].exports}for(var u="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(e,t,n){function r(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o=Object.keys(Object(i)),a=0,s=o.length;a<s;a++){var l=o[a],c=Object.getOwnPropertyDescriptor(i,l);void 0!==c&&c.enumerable&&(n[l]=i[l])}}return n}t.exports={assign:r,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:r})}}},{}]},{},[1])(1)}),define("utils/globalObject",["require","lodash"],function(e){var t,n,r,i,o=e("lodash");try{(t=window.top).document.body}catch(e){t=window.parent}return n=t.document.querySelectorAll("iframe"),r=o.find(n,function(e){return"scmframe"===e.id}),i=o.find(n,function(e){return"url_shortener_settings_modal"===e.id}),!r&&!i&&t.Shareaholic||(t=window.parent),null==window.getComputedStyle(t.document.body)&&(window.getComputedStyle=function(){return t.getComputedStyle.apply(t,arguments)}),t}),define("utils/UUID",[],function(){return{generateUUID:function(){var n=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(n+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"===e?t:3&t|8).toString(16)})}}}),define("utils/utils",["require","lodash","./globalObject"],function(e){var t,a=e("lodash"),n=/\s{2,}/g,r=/^(http:|https:)/,p=e("./globalObject"),i=["red-lighter","orange-lighter","yellow-lighter","green-lighter","aqua-lighter","blue-lighter"],o=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/gi,s=new RegExp("Googlebot|BuiltWith|PhantomJS|Google Page Speed Insights|Chrome-Lighthouse|Bingbot|Slurp|DuckDuckBot|Baiduspider|APIs-Google"),l=500;function c(e,t){if(t)return!e||e.closed?t():void setTimeout(function(){c(e,t)},l)}var u={watchWindow:c,dasharize:function(e){return e.replace(/_/g,"-").replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase().replace(/^-/,"")})},dasharizeKeys:function r(e){return a.reduce(e,function(e,t,n){return e[u.dasharize(n)]=t===Object(t)?r(t):t,e},{})},launchTab:function(e){u.openWindow(e,"_blank")},polling:function(n,r,i){var o=n,a=!1;if(n%2!=0||r%2!=0)throw new TypeError("minWait and maxWait must be multiples of 2");return{start:function e(){var t;a||(t=i(),o=t?Math.max(n,o/2):Math.min(r,2*o),setTimeout(e,o))},stop:function(){a=!0}}},openDebugWindow:function(e){var t;(t=p.open("","debug")).document.open(),t.document.write(e),t.document.close()},openWindow:function(e,t,n,r){var i;return n=n||[],c(i=p.open(e,t,n.join(",")),r),i},launchWindow:function(e,t){return u.openWindow(e,a.uniqueId("SHRWindow"),["top=50","left=50","width=800","height=600"],t)},launchUrl:function(e){p.location=e},adjustProtocol:function(e){return(e=e||"").replace(r,"")},compareVersions:function(e,t){var r=e.split("."),i=t.split("."),n=Math.max(r.length,i.length),o=0;return a.find(a.range(n),function(e){var t=parseInt(r[e]||"0",10),n=parseInt(i[e]||"0",10);return n<t?(o=1,!0):t<n&&(o=-1,!0)}),o},randomColor:function(){return i[a.random(0,i.length-1)]},hexToRGB:function(e,t){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,r){return t+t+n+n+r+r});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),r=n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null;return t?"rgba("+r.r+", "+r.g+", "+r.b+", "+t+")":"rgb("+r.r+", "+r.g+", "+r.b+")"},collapseWhitespace:function(e){return(e=e||"").replace(n," ")},truncate:function(e,t,n){var r,i;return e=e||"",t=null==t?e.length-1:t,n=n||{},a.defaults(n,{omission:"...",separator:void 0}),e.length<t?e:(r=t-n.omission.length,n.separator&&0<(i=e.substring(0,r).lastIndexOf(n.separator))&&(r=i),e.substring(0,r)+n.omission)},underscore:function(e){return e.replace(/[A-Z]/g,function(e){return"_"+e.toLowerCase().replace(/^_/,"")})},underscoreKeys:function(e){return a.reduce(e,function(e,t,n){return e[u.underscore(n)]=t,e},{})},abbreviateNumber:function(e){var t,n,r,i,o,a;if(1e3<=(t=e)){for(o=["","k","m","b","t"],i=Math.floor((""+e).length/3-.01),r="",n=a=3;2<=a&&!(((r=parseFloat((0!==i?e/Math.pow(1e3,i):e).toPrecision(n)))+"").replace(/[^a-zA-Z 0-9]+/g,"").length<=3);n=a+=-1);r%1!=0&&r.toFixed(2),t=r+o[i]}return t},getEnvironment:function(){return window.settings&&window.settings.environment||"production"},isChrome:function(){return null!=p.chrome&&null==p.opera},isSafari:function(){var e=p.navigator.userAgent.toLowerCase();return-1!==e.indexOf("safari")&&-1===e.indexOf("chrome")},isMobile:function(){return void 0===t&&(t=o.test(p.navigator.userAgent)),t},isDesktop:function(){return!u.isMobile()},isBot:function(e){return s.test(e||p.navigator.userAgent)},forceRedraw:function(e){e.style.display="none",e.offsetHeight,e.style.display=""},addHashToProp:function(e){return e&&"string"==typeof e&&"#"!==e.charAt(0)?"#"+e:e},parseUnitAndAmount:function(e){var t=parseInt(e,10)||0,n="px";return e&&0<=e.indexOf("%")&&(n="%"),{amount:t,unit:n}},getWindowDimension:function(){return{width:p.innerWidth||p.document.documentElement.clientWidth||p.document.body.clientWidth,height:p.innerHeight||p.document.documentElement.clientHeight||p.document.body.clientHeight}},inDemoMode:function(){return void 0!==p.ShareaholicDemo},cleanLink:function(e){return"{permalink}"!==e&&"data:post.url.canonical"!==e||(e=null),e},cleanTitle:function(e){return"{title}"!==e&&"data:post.title"!==e||(e=null),e},convertFromSnakeCase:function(e){for(var t=Object.keys(e||{}),n={},r=0;r<t.length;r++)n[t[r].replace("_","-")]=e[t[r]];return n},calculatePositionInsideParent:function(e,t,n){var r=p.getComputedStyle(t),i=p.getComputedStyle(e),o=parseFloat(r.height),a=parseFloat(r.width),s=parseFloat(i.height),l=parseFloat(i.width),c=n.split("-"),u={top:0,left:0},h=c[0];"upper"===h?u.top=0:"lower"===h?u.top=o-s:"center"===h&&(u.top=(o-s)/2,u.left=(a-l)/2);var d=c[1]||"";return"left"===d?u.left=0:"right"===d&&(u.left=a-l),u}};return u}),define("utils/localStore",[],function(){return{getObject:function(e){var t=this.getItem(e);try{return JSON.parse(t)}catch(e){return null}},setObject:function(e,t){try{return t=JSON.stringify(t),localStorage.setItem(e,t)}catch(e){return null}},getItem:function(e){try{return localStorage.getItem(e)}catch(e){return null}},setItem:function(e,t){try{return localStorage.setItem(e,t)}catch(e){return null}}}}),define("utils/cookies",[],function(){function e(){}return e.prototype.set=function(e,t,n){var r,i,o,a,s;return null==n&&(n={}),!(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))&&(i="",n.expires&&(i=function(){switch(n.expires.constructor){case Number:return n.expires===1/0?"; expires=Tue, 19 Jan 2038 03:14:07 GMT":"; max-age="+n.expires;case String:return"; expires="+n.expires;case Date:return"; expires="+n.expires.toUTCString()}}()),o=encodeURIComponent(e)+"="+encodeURIComponent(t),r=n.domain?"; domain="+n.domain:"",a=n.path?"; path="+n.path:"",s=n.secure?"; secure":"",document.cookie=[o,i,r,a,s].join(""),!0)},e.prototype.get=function(e){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},e.prototype.delete=function(e,t){var n,r;return null==t&&(t={}),!(!e||!this.hasItem(e))&&(n=t.domain?"; domain="+t.domain:"",r=t.path?"; path="+t.path:"",document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+n+r,!0)},e.prototype.hasItem=function(e){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},e.prototype.keys=function(){var e,t,n,r,i;for(e=[],r=0,i=(n=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/)).length;r<i;r++)t=n[r],e.push(decodeURIComponent(t));return e},new e}),define("utils/settings",["require","lodash","utils/UUID","utils/utils","utils/localStore","utils/globalObject","utils/cookies"],function(e){var t,n,r=e("lodash"),i=e("utils/UUID"),o=e("utils/utils"),a=e("utils/localStore"),s=e("utils/globalObject"),l=e("utils/cookies"),c=a.getObject("SHR_V2_OVERRIDES")||{},u=a.getItem("SHR_DEBUG"),h=encodeURIComponent(s.location.toString()),d=a.getItem("SHR_E"),p=a.getItem("SHR_E_ENC"),f=l.get("SHR_E_ENC"),m=a.getItem("SHR_ID");m||(m=i.generateUUID(),a.setItem("SHR_ID",m)),window.settings=window.settings||{},t=o.getEnvironment();var g={dev:{recommendations:"https://recs.stageaholic.com/rec/",asid:"https://recs.stageaholic.com/asid",go:"https://go.stageaholic.com/e",share:"https://www.stageaholic.com/v2/share",shorten:"https://www.stageaholic.com/v2/share/shorten_link",share_count:"",follow:"https://www.stageaholic.com/v2/follow",image:"https://images.stageaholic.com/pagePic/",oauth:"https://www.stageaholic.com/auth/",oauth_callback:"https://www.stageaholic.com/v2/authentication",local_recs_url:"/wp-admin/admin-ajax.php?action=shareaholic_permalink_related",local_plugin_info_url:null,user_info:"https://www.stageaholic.com/v2/user_info",user_site_info:"https://www.stageaholic.com/integrations/sdk/info",login_user:"https://www.stageaholic.com/sessions",analytics_pageview:"https://analytics.stageaholic.com/e",partners:"https://partner.stageaholic.com/partners.js",share_count_proxy:"https://www.shareaholic.net/api/share_counts/v1/counts",user_navigation:{base:"https://www.stageaholic.com",dashboard:"https://www.stageaholic.com/publisher_tools",adManager:"https://ads.stageaholic.com",services:"https://www.stageaholic.com/account/services",profile:"https://www.stageaholic.com/account/profile",account:"https://www.stageaholic.com/account",logout:"https://www.stageaholic.com/logout?origin="+h,login:"https://www.stageaholic.com/login?origin="+h,help:"https://support.shareaholic.com/",signup:"https://www.stageaholic.com/signup"}},stage:{recommendations:"https://recs.stageaholic.com/rec/",asid:"https://recs.stageaholic.com/asid",go:"https://go.stageaholic.com/e",share:"https://www.stageaholic.com/v2/share",shorten:"https://www.stageaholic.com/v2/share/shorten_link",share_count:"",follow:"https://www.stageaholic.com/v2/follow",image:"https://images.stageaholic.com/pagePic/",oauth:"https://www.stageaholic.com/auth/",oauth_callback:"https://www.stageaholic.com/v2/authentication",local_recs_url:"/wp-admin/admin-ajax.php?action=shareaholic_permalink_related",local_plugin_info_url:null,user_info:"https://www.stageaholic.com/v2/user_info",user_site_info:"https://www.stageaholic.com/integrations/sdk/info",login_user:"https://www.stageaholic.com/sessions",analytics_pageview:"https://analytics.stageaholic.com/e",partners:"https://partner.stageaholic.com/partners.js",share_count_proxy:"https://www.shareaholic.net/api/share_counts/v1/counts",user_navigation:{base:"https://www.stageaholic.com",dashboard:"https://www.stageaholic.com/publisher_tools",adManager:"https://ads.stageaholic.com",services:"https://www.stageaholic.com/account/services",profile:"https://www.stageaholic.com/account/profile",account:"https://www.stageaholic.com/account",logout:"https://www.stageaholic.com/logout?origin="+h,login:"https://www.stageaholic.com/login?origin="+h,help:"https://support.shareaholic.com/",signup:"https://www.stageaholic.com/signup"}},production:{recommendations:"https://recs.shareaholic.com/rec/",asid:"https://recs.shareaholic.com/asid",go:"https://go.shareaholic.com/e",follow:"https://www.shareaholic.com/v2/follow",share:"https://www.shareaholic.com/v2/share",shorten:"https://www.shareaholic.com/v2/share/shorten_link",share_count:"",image:"https://images.shareaholic.com/pagePic/",oauth:"https://www.shareaholic.com/auth/",oauth_callback:"https://www.shareaholic.com/v2/authentication",local_recs_url:"/wp-admin/admin-ajax.php?action=shareaholic_permalink_related",local_plugin_info_url:null,user_info:"https://www.shareaholic.com/v2/user_info",user_site_info:"https://www.shareaholic.com/integrations/sdk/info",login_user:"https://www.shareaholic.com/sessions",analytics_pageview:"https://analytics.shareaholic.com/e",partners:"https://partner.shareaholic.com/partners.js",share_count_proxy:"https://www.shareaholic.net/api/share_counts/v1/counts",user_navigation:{base:"https://www.shareaholic.com",dashboard:"https://www.shareaholic.com/publisher_tools",adManager:"https://ads.shareaholic.com",services:"https://www.shareaholic.com/account/services",profile:"https://www.shareaholic.com/account/profile",account:"https://www.shareaholic.com/account",logout:"https://www.shareaholic.com/logout?origin="+h,login:"https://www.shareaholic.com/login?origin="+h,help:"https://support.shareaholic.com/",signup:"https://www.shareaholic.com/signup"}}};return n=r.defaults(window.settings||{},{debug:!1,uuid:m,e_hash:d,e_enc:p,e_cookie_enc:f,api_key:"",logger:{prefix_filter:".*"},google_analytics:{trace:!1,trackers:{shr:{name:"Shareaholic",id:"UA-12964573-5"},shr_pageviews:{name:"Shareaholic Pageviews",id:"UA-48513475-1",settings:{sampleRate:1}},shr_usage:{name:"Shareaholic Usage",id:"UA-12964573-15"},shr_post_share:{name:"Shareaholic Post Share",id:"UA-12964573-16"}}},_debugEndpoints:g,endpoints:r.defaults(g[t],{recommendations:"//recommendations.stageaholic.com/v4/recommend",traffic:"https://traffic.stageaholic.com/e",image:"//images.stageaholic.com/pagePic/",user_info:"https://www.stageaholic.com/v2/user_info",user_site_info:"https://www.stageaholic.com/integrations/sdk/info",share:"",follow:"",traffic_link:"",analytics:"",analytics_pageview:"",analytics_tag:"",share_counts:{buffer:"https://api.bufferapp.com/1/links/shares.json",facebook:"https://graph.facebook.com",fancy:"https://fancy.com/fancyit/count",odnoklassniki:"https://connect.ok.ru/dk",pinterest:"https://api.pinterest.com/v1/urls/count.json",reddit:"https://www.reddit.com/button_info.json",tumblr:"https://api.tumblr.com/v2/share/stats",vk:"https://vk.com/share.php",yummly:"https://www.yummly.com/services/yum-count"},ads:""}),shortpattern:/shr\.lc|goo\.gl|bit\.ly|yhoo\.it|j\.mp|tinyurl/,shortener_preferences:{api_key:null,login:null,service:"shrlc"},assetbase:"",fontbase:"",imagebase:"",services:{}}),n=r.merge(n,c.settings),"file:"===s.location.protocol.toString()&&(n.endpoints=r.mapValues(n.endpoints,function(e){return"string"==typeof e&&0!==e.indexOf("http")?"https:"+e:e}),n.endpoints.share_counts=r.mapValues(n.endpoints.share_counts,function(e){return"string"==typeof e&&0!==e.indexOf("http")?"https:"+e:e})),u&&(n.debug=!0),n}),define("utils/logger",["require","utils/globalObject","lodash","utils/settings"],function(e){"use strict";var i,r,o,t,a=e("utils/globalObject"),s=e("lodash"),l=e("utils/settings"),c=!1,u=[],h=new RegExp(l.logger.prefix_filter);function d(){s.each(u,function(e){a.console[e.name].apply(a.console,e.args)}),c&&(a.console.groupEnd(),c=!1),u=[]}function p(t,n,r){return n=(n=n||"").toUpperCase(),function(){var e;l.debug&&n.match(h)&&(e=s.toArray(arguments),n&&s.isString(e[0])&&(e[0]=n+e[0],r&&(e[0]="%c"+e[0],e.splice(1,0,"color: "+r))),i(t,n,e))}}function f(e,t,n){return"console"in a&&a.console.log?a.console[e]?p(e,t,n):p("log",t+"{"+e+"}",n):function(){}}return r=s.debounce(d,1),t=a.console,i=t&&"group"in t&&"groupEnd"in t&&"groupCollapsed"in t?function(e,t,n){c&&t!==o?(d(),u.push({name:e,args:n}),a.console.group(t),o=t,c=!0):(c||(a.console.group(t),o=t,c=!0),u.push({name:e,args:n}),r())}:function(e,t,n){s.isObject(a.console[e])?a.console[e](n.join(" ")):a.console[e].apply(a.console,n)},function t(e,n){var r,i={color:n,prefixes:[]};return this&&this.prefixes&&(i.prefixes=s.clone(this.prefixes)),i.prefixes.push(e),r=i.prefixes.join(": "),{child:function(e){return t.call(i,(e=e||{}).name,e.color)},error:f("error",r+=": ",n),log:f("log",r,n),table:f("table",r,n),debug:f("debug",r,n)}}("SHR")}),define("utils/profiler",["require","./logger"],function(e){"use strict";var n=e("./logger").child({name:"Profiler",color:"maroon"});return{logTime:function(e){var t=new Date;e=e||"No message",n.log([t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()].join(":"),e)}}}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("when/when",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.when=e()}}(function(){var r;return function o(a,s,l){function c(n,e){if(!s[n]){if(!a[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(u)return u(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var i=s[n]={exports:{}};a[n][0].call(i.exports,function(e){var t=a[n][1][e];return c(t||e)},i,i.exports,o,a,s,l)}return s[n].exports}for(var u="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(t,n,e){!function(){"use strict";(typeof r==="function"&&r.amd?r:function(e){n.exports=e(t)})(function(e){return e("./makePromise")({scheduler:new(e("./Scheduler"))(e("./env").asap)})})}()},{"./Scheduler":2,"./env":14,"./makePromise":16}],2:[function(e,t,n){!function(){"use strict";(typeof r==="function"&&r.amd?r:function(e){t.exports=e()})(function(){function e(e){this._async=e,this._running=!1,this._queue=new Array(65536),this._queueLen=0,this._afterQueue=new Array(16),this._afterQueueLen=0;var t=this;this.drain=function(){t._drain()}}return e.prototype.enqueue=function(e){this._queue[this._queueLen++]=e,this.run()},e.prototype.afterQueue=function(e){this._afterQueue[this._afterQueueLen++]=e,this.run()},e.prototype.run=function(){this._running||(this._running=!0,this._async(this.drain))},e.prototype._drain=function(){for(var e=0;e<this._queueLen;++e)this._queue[e].run(),this._queue[e]=void 0;for(this._queueLen=0,this._running=!1,e=0;e<this._afterQueueLen;++e)this._afterQueue[e].run(),this._afterQueue[e]=void 0;this._afterQueueLen=0},e})}()},{}],3:[function(e,t,n){!function(){"use strict";(typeof r==="function"&&r.amd?r:function(e){t.exports=e()})(function(){function t(e){Error.call(this),this.message=e,this.name=t.name,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}return(t.prototype=Object.create(Error.prototype)).constructor=t})}()},{}],4:[function(e,t,n){!function(){"use strict";(typeof r==="function"&&r.amd?r:function(e){t.exports=e()})(function(){return e.tryCatchResolve=t,e;function e(a,s){return arguments.length<2&&(s=t),function(e,t,n){var r=a._defer(),i=n.length,o=new Array(i);return l({f:e,thisArg:t,args:n,params:o,i:i-1,call:s},r._handler),r};function l(e,t){if(e.i<0)return s(e.f,e.thisArg,e.params,t);a._handler(e.args[e.i]).fold(n,e,void 0,t)}function n(e,t,n){e.params[e.i]=t,e.i-=1,l(e,n)}}function t(e,t,n,r){try{r.resolve(e.apply(t,n))}catch(e){r.reject(e)}}})}()},{}],5:[function(t,n,e){!function(){"use strict";(typeof r==="function"&&r.amd?r:function(e){n.exports=e(t)})(function(e){var c=e("../state"),u=e("../apply");return function(p){var i=u(p),n=p.resolve,r=p.all,o=Array.prototype.reduce,a=Array.prototype.reduceRight,s=Array.prototype.slice;return p.any=function(e){for(var t,n,r=p._defer(),i=r._handler,o=e.length>>>0,a=o,s=[],l=0;l<o;++l)if(void 0!==(n=e[l])||l in e){if(0<(t=p._handler(n)).state()){i.become(t),p._visitRemaining(e,l,t);break}t.visit(i,c,u)}else--a;0===a&&i.reject(new RangeError("any(): array must not be empty"));return r;function c(e){s=null,this.resolve(e)}function u(e){this.resolved||(s.push(e),0==--a&&this.reject(s))}},p.some=function(e,t){var n,r,i,o=p._defer(),a=o._handler,s=[],l=[],c=e.length>>>0,u=0;for(i=0;i<c;++i)(void 0!==(r=e[i])||i in e)&&++u;t=Math.max(t,0),n=u-t+1,(u=Math.min(t,u))<t?a.reject(new RangeError("some(): array must contain at least "+t+" item(s), but had "+u)):0===u&&a.resolve(s);for(i=0;i<c;++i)(void 0!==(r=e[i])||i in e)&&p._handler(r).visit(a,h,d,a.notify);return o;function h(e){this.resolved||(s.push(e),0==--u&&(l=null,this.resolve(s)))}function d(e){this.resolved||(l.push(e),0==--n&&(s=null,this.reject(l)))}},p.settle=function(e){return r(e.map(t))},p.map=function(e,t){return p._traverse(t,e)},p.filter=function(e,t){var n=s.call(e);return p._traverse(t,n).then(function(e){return function(e,t){for(var n=t.length,r=new Array(n),i=0,o=0;i<n;++i)t[i]&&(r[o++]=p._handler(e[i]).value);return r.length=o,r}(n,e)})},p.reduce=function(e,t){return 2<arguments.length?o.call(e,l(t),arguments[2]):o.call(e,l(t))},p.reduceRight=function(e,t){return 2<arguments.length?a.call(e,l(t),arguments[2]):a.call(e,l(t))},p.prototype.spread=function(t){return this.then(r).then(function(e){return t.apply(this,e)})},p;function t(e){var t=p._handler(e);return 0===t.state()?n(e).then(c.fulfilled,c.rejected):c.inspect(t)}function l(r){return function(e,t,n){return i(r,void 0,[e,t,n])}}}})}()},{"../apply":4,"../state":17}],6:[function(e,t,n){!function(){"use strict";(typeof r==="function"&&r.amd?r:function(e){t.exports=e()})(function(){return function(e){var o=e.resolve,r=e.reject,t=e.prototype.catch;function n(e,t,n,r){var i=e.call(t);return function(e){return("object"==typeof e||"function"==typeof e)&&null!==e}(i)?function(e,t,n){return o(e).then(function(){return t(n)})}(i,n,r):n(r)}return e.prototype.done=function(e,t){this._handler.visit(this._handler.receiver,e,t)},e.prototype.catch=e.prototype.otherwise=function(e){return arguments.length<2?t.call(this,e):"function"!=typeof e?this.ensure(i):t.call(this,function(t,n){return function(e){return function(e,t){return function(e){return e===Error||null!=e&&e.prototype instanceof Error}(t)?e instanceof t:t(e)}(e,n)?t.call(this,e):r(e)}}(arguments[1],e))},e.prototype.finally=e.prototype.ensure=function(t){return"function"!=typeof t?this:this.then(function(e){return n(t,this,a,e)},function(e){return n(t,this,r,e)})},e.prototype.else=e.prototype.orElse=function(e){return this.then(void 0,function(){return e})},e.prototype.yield=function(e){return this.then(function(){return e})},e.prototype.tap=function(e){return this.then(e).yield(this)},e};function i(){throw new TypeError("catch predicate must be a function")}function a(e){return e}})}()},{}],7:[function(e,t,n){!function(){"use strict";(typeof r==="function"&&r.amd?r:function(e){t.exports=e()})(function(){return function(i){return i.prototype.fold=function(r,e){var t=this._beget();return this._handler.fold(function(e,t,n){i._handler(e).fold(function(e,t,n){n.resolve(r.call(this,t,e))},t,this,n)},e,t._handler.receiver,t._handler),t},i}})}()},{}],8:[function(t,n,e){!function(){"use strict";(typeof r==="function"&&r.amd?r:function(e){n.exports=e(t)})(function(e){var t=e("../state").inspect;return function(e){return e.prototype.inspect=function(){return t(e._handler(this))},e}})}()},{"../state":17}],9:[function(e,t,n){!function(){"use strict";(typeof r==="function"&&r.amd?r:function(e){t.exports=e()})(function(){return function(e){var a=e.resolve;return e.iterate=function(t,e,n,r){return s(function(e){return[e,t(e)]},e,n,r)},e.unfold=s,e;function s(n,r,i,e){return a(e).then(function(t){return a(r(t)).then(function(e){return e?t:a(n(t)).spread(o)})});function o(e,t){return a(i(e)).then(function(){return s(n,r,i,t)})}}}})}()},{}],10:[function(e,t,n){!function(){"use strict";(typeof r==="function"&&r.amd?r:function(e){t.exports=e()})(function(){return function(e){return e.prototype.progress=function(e){return this.then(void 0,void 0,e)},e}})}()},{}],11:[function(t,n,e){!function(){"use strict";(typeof r==="function"&&r.amd?r:function(e){n.exports=e(t)})(function(e){var a=e("../env"),i=e("../TimeoutError");function s(e,t,n,r){return a.setTimer(function(){e(n,r,t)},t)}return function(e){function n(e,t,n){s(r,e,t,n)}function r(e,t){t.resolve(e)}function o(e,t,n){var r=void 0===e?new i("timed out after "+n+"ms"):e;t.reject(r)}return e.prototype.delay=function(e){var t=this._beget();return this._handler.fold(n,e,void 0,t._handler),t},e.prototype.timeout=function(e,t){var n=this._beget(),r=n._handler,i=s(o,e,t,n._handler);return this._handler.visit(r,function(e){a.clearTimer(i),this.resolve(e)},function(e){a.clearTimer(i),this.reject(e)},r.notify),n},e}})}()},{"../TimeoutError":3,"../env":14}],12:[function(t,n,e){!function(){"use strict";(typeof r==="function"&&r.amd?r:function(e){n.exports=e(t)})(function(e){var h=e("../env").setTimer,d=e("../format");return function(e){var t,n=f,r=f;"undefined"!=typeof console&&(t=console,n=void 0!==t.error?function(e){t.error(e)}:function(e){t.log(e)},r=void 0!==t.info?function(e){t.info(e)}:function(e){t.log(e)}),e.onPotentiallyUnhandledRejection=function(e){c(s,e)},e.onPotentiallyUnhandledRejectionHandled=function(e){c(l,e)},e.onFatalRejection=function(e){c(p,e.value)};var i=[],o=[],a=null;function s(e){e.handled||(o.push(e),n("Potentially unhandled rejection ["+e.id+"] "+d.formatError(e.value)))}function l(e){var t=o.indexOf(e);0<=t&&(o.splice(t,1),r("Handled previous rejection ["+e.id+"] "+d.formatObject(e.value)))}function c(e,t){i.push(e,t),null===a&&(a=h(u,0))}function u(){for(a=null;0<i.length;)i.shift()(i.shift())}return e};function p(e){throw e}function f(){}})}()},{"../env":14,"../format":15}],13:[function(e,t,n){!function(){"use strict";(typeof r==="function"&&r.amd?r:function(e){t.exports=e()})(function(){return function(e){return e.prototype.with=e.prototype.withThis=function(e){var t=this._beget(),n=t._handler;return n.receiver=e,this._handler.chain(n,e),t},e}})}()},{}],14:[function(t,n,e){(function(s){!function(){"use strict";(typeof r==="function"&&r.amd?r:function(e){n.exports=e(t)})(function(e){var t,n="undefined"!=typeof setTimeout&&setTimeout,r=function(e,t){return setTimeout(e,t)},i=function(e){return clearTimeout(e)},o=function(e){return n(e,0)};if(null!=s&&"function"==typeof s.nextTick)o=function(e){return s.nextTick(e)};else if(t="function"==typeof MutationObserver&&MutationObserver||"function"==typeof WebKitMutationObserver&&WebKitMutationObserver)o=function(e){var t,n=document.createTextNode("");new e(function(){var e=t;t=void 0,e()}).observe(n,{characterData:!0});var r=0;return function(e){t=e,n.data=r^=1}}(t);else if(!n){var a=e("vertx");r=function(e,t){return a.setTimer(t,e)},i=a.cancelTimer,o=a.runOnLoop||a.runOnContext}return{setTimer:r,clearTimer:i,asap:o}})}()}).call(this,t("_process"))},{_process:19}],15:[function(e,t,n){!function(){"use strict";(typeof r==="function"&&r.amd?r:function(e){t.exports=e()})(function(){return{formatError:function(e){var t="object"==typeof e&&null!==e&&e.stack?e.stack:n(e);return e instanceof Error?t:t+" (WARNING: non-Error used)"},formatObject:n,tryStringify:r};function n(e){var t=String(e);return"[object Object]"===t&&"undefined"!=typeof JSON&&(t=r(e,t)),t}function r(e,t){try{return JSON.stringify(e)}catch(e){return t}}})}()},{}],16:[function(e,t,n){!function(){"use strict";(typeof r==="function"&&r.amd?r:function(e){t.exports=e()})(function(){return function(e){var n=e.scheduler,r=Object.create||function(e){function t(){}return t.prototype=e,new t};function u(e,t){this._handler=e===p?t:function(e){var t=new g;try{e(function(e){t.resolve(e)},n,function(e){t.notify(e)})}catch(e){n(e)}return t;function n(e){t.reject(e)}}(e)}function t(e){return O(e)?e:new u(p,new v(c(e)))}function i(e){return new u(p,new v(new w(e)))}function o(){return R}function a(r,i,o){for(var e,t="function"==typeof i?function(e,t,n){n.resolved||h(o,c,e,r(i,t,e),n)}:c,n=new g,a=o.length>>>0,s=new Array(a),l=0;l<o.length&&!n.resolved;++l)void 0!==(e=o[l])||l in o?h(o,t,l,e,n):--a;return 0===a&&n.become(new b(s)),new u(p,n);function c(e,t,n){s[e]=t,0==--a&&n.become(new b(s))}}function h(e,t,n,r,i){if(A(r)){var o=function(e){return O(e)?e._handler.join():d(e)}(r),a=o.state();0===a?o.fold(t,n,void 0,i):0<a?t(n,o.value,i):(i.become(o),s(e,n+1,o))}else t(n,r,i)}function s(e,t,n){for(var r=t;r<e.length;++r)l(c(e[r]),n)}function l(e,t){if(e!==t){var n=e.state();0===n?e.visit(e,void 0,e._unreport):n<0&&e._unreport()}}function c(e){return O(e)?e._handler.join():A(e)?d(e):new b(e)}function d(e){try{var t=e.then;return"function"==typeof t?new _(t,e):new b(e)}catch(e){return new w(e)}}function p(){}function f(){}u.resolve=t,u.reject=i,u.never=o,u._defer=function(){return new u(p,new g)},u._handler=c,u.prototype.then=function(e,t,n){var r=this._handler,i=r.join().state();if("function"!=typeof e&&0<i||"function"!=typeof t&&i<0)return new this.constructor(p,r);var o=this._beget(),a=o._handler;return r.chain(a,r.receiver,e,t,n),o},u.prototype.catch=function(e){return this.then(void 0,e)},u.prototype._beget=function(){return function(e,t){var n=new g(e.receiver,e.join().context);return new t(p,n)}(this._handler,this.constructor)},u.all=function(e){return a(D,null,e)},u.race=function(e){return"object"==typeof e&&null!==e?0===e.length?o():1===e.length?t(e[0]):function(e){var t,n,r,i=new g;for(t=0;t<e.length;++t)if(void 0!==(n=e[t])||t in e){if(0!==(r=c(n)).state()){i.become(r),s(e,t+1,r);break}r.visit(i,i.resolve,i.reject)}return new u(p,i)}(e):i(new TypeError("non-iterable passed to race()"))},u._traverse=function(e,t){return a(M,e,t)},u._visitRemaining=s,p.prototype.when=p.prototype.become=p.prototype.notify=p.prototype.fail=p.prototype._unreport=p.prototype._report=L,p.prototype._state=0,p.prototype.state=function(){return this._state},p.prototype.join=function(){for(var e=this;void 0!==e.handler;)e=e.handler;return e},p.prototype.chain=function(e,t,n,r,i){this.when({resolver:e,receiver:t,fulfilled:n,rejected:r,progress:i})},p.prototype.visit=function(e,t,n,r){this.chain(m,e,t,n,r)},p.prototype.fold=function(e,t,n,r){this.when(new I(e,t,n,r))},q(p,f),f.prototype.become=function(e){e.fail()};var m=new f;function g(e,t){u.createContext(this,t),this.consumers=void 0,this.receiver=e,this.handler=void 0,this.resolved=!1}function v(e){this.handler=e}function _(e,t){g.call(this),n.enqueue(new C(e,t,this))}function b(e){u.createContext(this),this.value=e}q(p,g),g.prototype._state=0,g.prototype.resolve=function(e){this.become(c(e))},g.prototype.reject=function(e){this.resolved||this.become(new w(e))},g.prototype.join=function(){if(!this.resolved)return this;for(var e=this;void 0!==e.handler;)if((e=e.handler)===this)return this.handler=new w(new TypeError("Promise cycle"));return e},g.prototype.run=function(){var e=this.consumers,t=this.join();this.consumers=void 0;for(var n=0;n<e.length;++n)t.when(e[n])},g.prototype.become=function(e){this.resolved||(this.resolved=!0,this.handler=e,void 0!==this.consumers&&n.enqueue(this),void 0!==this.context&&e._report(this.context))},g.prototype.when=function(e){this.resolved?n.enqueue(new E(e,this.handler)):void 0===this.consumers?this.consumers=[e]:this.consumers.push(e)},g.prototype.notify=function(e){this.resolved||n.enqueue(new j(e,this))},g.prototype.fail=function(e){var t=void 0===e?this.context:e;this.resolved&&this.handler.join().fail(t)},g.prototype._report=function(e){this.resolved&&this.handler.join()._report(e)},g.prototype._unreport=function(){this.resolved&&this.handler.join()._unreport()},q(p,v),v.prototype.when=function(e){n.enqueue(new E(e,this))},v.prototype._report=function(e){this.join()._report(e)},v.prototype._unreport=function(){this.join()._unreport()},q(g,_),q(p,b),b.prototype._state=1,b.prototype.fold=function(e,t,n,r){!function(e,t,n,r,i){if("function"!=typeof e)return i.become(n);u.enterContext(n),function(e,t,n,r,i){try{e.call(r,t,n,i)}catch(e){i.become(new w(e))}}(e,t,n.value,r,i),u.exitContext()}(e,t,this,n,r)},b.prototype.when=function(e){U(e.fulfilled,this,e.receiver,e.resolver)};var y=0;function w(e){u.createContext(this),this.id=++y,this.value=e,this.handled=!1,this.reported=!1,this._report()}function k(e,t){this.rejection=e,this.context=t}function S(e){this.rejection=e}q(p,w),w.prototype._state=-1,w.prototype.fold=function(e,t,n,r){r.become(this)},w.prototype.when=function(e){"function"==typeof e.rejected&&this._unreport(),U(e.rejected,this,e.receiver,e.resolver)},w.prototype._report=function(e){n.afterQueue(new k(this,e))},w.prototype._unreport=function(){this.handled||(this.handled=!0,n.afterQueue(new S(this)))},w.prototype.fail=function(e){u.onFatalRejection(this,void 0===e?this.context:e)},k.prototype.run=function(){this.rejection.handled||(this.rejection.reported=!0,u.onPotentiallyUnhandledRejection(this.rejection,this.context))},S.prototype.run=function(){this.rejection.reported&&u.onPotentiallyUnhandledRejectionHandled(this.rejection)},u.createContext=u.enterContext=u.exitContext=u.onPotentiallyUnhandledRejection=u.onPotentiallyUnhandledRejectionHandled=u.onFatalRejection=L;var x=new p,R=new u(p,x);function E(e,t){this.continuation=e,this.handler=t}function j(e,t){this.handler=t,this.value=e}function C(e,t,n){this._then=e,this.thenable=t,this.resolver=n}function I(e,t,n,r){this.f=e,this.z=t,this.c=n,this.to=r,this.resolver=m,this.receiver=this}function O(e){return e instanceof u}function A(e){return("object"==typeof e||"function"==typeof e)&&null!==e}function U(e,t,n,r){if("function"!=typeof e)return r.become(t);u.enterContext(t),function(e,t,n,r){try{r.become(c(e.call(n,t)))}catch(e){r.become(new w(e))}}(e,t.value,n,r),u.exitContext()}function T(e,t,n,r,i){if("function"!=typeof e)return i.notify(t);u.enterContext(n),function(e,t,n,r){try{r.notify(e.call(n,t))}catch(e){r.notify(e)}}(e,t,r,i),u.exitContext()}function M(e,t,n){try{return e(t,n)}catch(e){return i(e)}}function q(e,t){t.prototype=r(e.prototype),t.prototype.constructor=t}function D(e,t){return t}function L(){}return E.prototype.run=function(){this.handler.join().when(this.continuation)},j.prototype.run=function(){var e=this.handler.consumers;if(void 0!==e)for(var t,n=0;n<e.length;++n)T((t=e[n]).progress,this.value,this.handler,t.receiver,t.resolver)},C.prototype.run=function(){var t=this.resolver;!function(e,t,n,r,i){try{e.call(t,n,r,i)}catch(e){r(e)}}(this._then,this.thenable,function(e){t.resolve(e)},function(e){t.reject(e)},function(e){t.notify(e)})},I.prototype.fulfilled=function(e){this.f.call(this.c,this.z,e,this.to)},I.prototype.rejected=function(e){this.to.reject(e)},I.prototype.progress=function(e){this.to.notify(e)},u}})}()},{}],17:[function(e,t,n){!function(){"use strict";(typeof r==="function"&&r.amd?r:function(e){t.exports=e()})(function(){return{pending:e,fulfilled:r,rejected:n,inspect:function(e){var t=e.state();return 0===t?{state:"pending"}:0<t?r(e.value):n(e.value)}};function e(){return{state:"pending"}}function n(e){return{state:"rejected",reason:e}}function r(e){return{state:"fulfilled",value:e}}})}()},{}],18:[function(t,n,e){!function(){"use strict";(typeof r==="function"&&r.amd?r:function(e){n.exports=e(t)})(function(e){var t=e("./lib/decorators/timed"),n=e("./lib/decorators/array"),r=e("./lib/decorators/flow"),i=e("./lib/decorators/fold"),o=e("./lib/decorators/inspect"),a=e("./lib/decorators/iterate"),s=e("./lib/decorators/progress"),l=e("./lib/decorators/with"),c=e("./lib/decorators/unhandledRejection"),u=e("./lib/TimeoutError"),h=[n,r,i,a,s,o,l,t,c].reduce(function(e,t){return t(e)},e("./lib/Promise")),d=e("./lib/apply")(h);function p(e,t,n,r){var i=h.resolve(e);return arguments.length<2?i:i.then(t,n,r)}function f(r){return function(){for(var e=0,t=arguments.length,n=new Array(t);e<t;++e)n[e]=arguments[e];return d(r,this,n)}}function m(e){for(var t=0,n=arguments.length-1,r=new Array(n);t<n;++t)r[t]=arguments[t+1];return d(e,this,r)}function g(){var t=h._defer();function e(e){t._handler.resolve(e)}function n(e){t._handler.reject(e)}function r(e){t._handler.notify(e)}this.promise=t,this.resolve=e,this.reject=n,this.notify=r,this.resolver={resolve:e,reject:n,notify:r}}return p.promise=function(e){return new h(e)},p.resolve=h.resolve,p.reject=h.reject,p.lift=f,p.try=m,p.attempt=m,p.iterate=h.iterate,p.unfold=h.unfold,p.join=function(){return h.all(arguments)},p.all=function(e){return p(e,h.all)},p.settle=function(e){return p(e,h.settle)},p.any=f(h.any),p.some=f(h.some),p.race=f(h.race),p.map=function(e,t){return p(e,function(e){return h.map(e,t)})},p.filter=function(e,t){return p(e,function(e){return h.filter(e,t)})},p.reduce=f(h.reduce),p.reduceRight=f(h.reduceRight),p.isPromiseLike=function(e){return e&&"function"==typeof e.then},p.Promise=h,p.defer=function(){return new g},p.TimeoutError=u,p})}()},{"./lib/Promise":1,"./lib/TimeoutError":3,"./lib/apply":4,"./lib/decorators/array":5,"./lib/decorators/flow":6,"./lib/decorators/fold":7,"./lib/decorators/inspect":8,"./lib/decorators/iterate":9,"./lib/decorators/progress":10,"./lib/decorators/timed":11,"./lib/decorators/unhandledRejection":12,"./lib/decorators/with":13}],19:[function(e,t,n){var r=t.exports={};function i(){}r.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.MutationObserver,n="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};var r=[];if(t){var i=document.createElement("div");return new MutationObserver(function(){var e=r.slice();r.length=0,e.forEach(function(e){e()})}).observe(i,{attributes:!0}),function(e){r.length||i.setAttribute("yes","no"),r.push(e)}}return n?(window.addEventListener("message",function(e){var t=e.source;t!==window&&null!==t||"process-tick"!==e.data||(e.stopPropagation(),0<r.length&&r.shift()())},!0),function(e){r.push(e),window.postMessage("process-tick","*")}):function(e){setTimeout(e,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.on=i,r.addListener=i,r.once=i,r.off=i,r.removeListener=i,r.removeAllListeners=i,r.emit=i,r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")}},{}]},{},[18])(18)}),define("when",["when/when"],function(e){return e}),define("utils/dom",["require","lodash","utils/settings","URIjs/URI","when","utils/globalObject","utils/utils","utils/logger"],function(i){var a=i("lodash"),s=i("utils/settings"),l=i("URIjs/URI"),o=i("when"),c=i("utils/globalObject"),u=i("utils/utils"),h=i("utils/logger").child({name:"DOM Utils",color:"black"}),d=c;function p(e){"loading"!==window.document.readyState?e():window.document.addEventListener("DOMContentLoaded",e)}function f(e){return d.document.querySelector(e)}function r(e,t){var n,r,i=s.fontbase,o=s.imagebase;return t=t||f("head"),r=a.template(e)({imagebase:function(e){var t=new l(o);return decodeURIComponent(t.segment(e).toString())},fontbase:function(e){var t=new l(i);return decodeURIComponent(t.segment(e).toString())}}),(n=d.document.createElement("style")).appendChild(d.document.createTextNode(r)),t.appendChild(n),n}function m(e,t,n){p(function(){n&&null!==n.querySelector("#"+e)||null===f("#"+e)&&r(t,n).setAttribute("id",e)})}function g(e){var t=d.getComputedStyle(e),n=e.getBoundingClientRect(),r=u.getWindowDimension(),i=Math.max(n.left,0),o=Math.max(n.top,0);return(Math.min(n.left+parseInt(t.width),r.width)-i)*(Math.min(n.top+parseInt(t.height),r.height)-o)}function t(e){var t=d.getComputedStyle(e),n=parseFloat(t.height)*parseFloat(t.width),r=g(e);return 0==n?0:r/n*100}function v(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,t)}return{appendToUiDom:function(e,t){var n=f(t=t||"body");null!==n&&n.appendChild(e)},getZindex:function(e){for(var t,n="auto",r=0;null!==e&&"BODY"!==e.tagName;){var i=d.getComputedStyle(e);"static"!==i.getPropertyValue("position")&&(t=i.getPropertyValue("z-index"),t=parseInt(t,10),a.isFinite(t)&&(r=Math.max(r,t))),e=e.parentNode}return r&&(n=r+1),n},appendScriptTag:function(e,t){var n=d.document.createElement("script"),r=d.document.createTextNode(e);return n.appendChild(r),(t=t||c.document.body).appendChild(n),n},loadScript:function(e,t){var n,r=d.document.createElement("script");if(t=t||{},r.setAttribute("data-cfasync","false"),t.async&&(!0===t.async?r.async=!0:r.async=!1),t.preload&&!0===t.preload){var i=d.document.createElement("link");i.href=e,i.rel="preload",i.as="script",d.document.head.appendChild(i)}if(t.id){if(null!==(n=f("script#"+t.id)))return h.log("script tag with id %s already exists",t.id),n;r.id=t.id}return r.src=e,this.appendToUiDom(r,t.context),r},appendPixel:function(e,t){var n=e.replace("[[CACHEBUSTER]]",Math.floor(1e10*Math.random())),r=d.document.createElement("img");r.setAttribute("height","1px"),r.setAttribute("width","1px"),r.setAttribute("style","position:absolute; bottom:0; right:0; border:0"),r.addEventListener("load",function(){return r.parentNode.removeChild(r),t&&t()}),p(function(){f("body").appendChild(r),r.setAttribute("src",n)})},uiDOM:f,uiDOMAll:function(e){return d.document.querySelectorAll(e)},updateUiDOMWindow:function(e){d=e},visibleArea:g,percentageVisible:t,renderStyles:r,ensureStyles:m,loadAndEnsureStyles:function(t,e,n){var r=o.defer();return i(["text!"+e],function(e){m(t,e,n),r.resolve()}),r.promise},fromTopPercentage:function(e){var t,n,r;if("scrolled"===e.what){var i=u.getWindowDimension();return t=f("body"),n=f("html"),r=Math.floor(d.pageYOffset/(Math.max(t.offsetHeight,n.offsetHeight)-i.height)*100),h.log("Scroll Depth: "+r+"%"),r}},fromTopPixel:function(e){var t;if("scrolled"===e.what)return t=d.pageYOffset,h.log("Scroll Depth: "+t+"px"),t},elementVisible:function(e){return 0<t(f(e))},getChildNumber:function(e,t){for(var n=e.children,r=0;r<n.length;r++)if(t===n[r])return r;return null},matches:v,parentMatches:function(e,t,n){for(var r=e.parentNode;null!==r;){if(n&&v(r,n));else if(v(r,t))return!0;r=r.parentElement}return!1},ready:p}}),define("utils/Emitter",["require","lodash"],function(e){var r=e("lodash");function t(){this._topics={}}return t.prototype={on:function(e,t){var n=this._topics[e]||[];n.push(t),this._topics[e]=n},off:function(e,t){var n=this._topics[e];r.remove(n,function(e){return e===t})},emit:function(e){var t=this._topics[e],n=r.toArray(arguments).slice(1);r.each(t,function(e){!function(e,t){e.apply(null,t)}(e,n)})}},function(){return new t}}),define("canvas/Canvas",["require","utils/dom","most","utils/Emitter","utils/globalObject","lodash"],function(e){var t=e("utils/dom"),i=e("most"),o=e("utils/Emitter"),n=e("utils/globalObject"),a=e("lodash");function r(e,t){var n=e.getAttribute("id"),r=this;t=t||{},a.defaults(t,{pageInfo:{},contentInfo:{},elementInfo:{},resizeStream:i.never(),scrollStream:i.never(),touchMoveStream:i.never(),contentStream:i.create(function(e,t){r._triggerContentChange=e,r._endContentChange=t})}),null===n&&void 0!==e&&(n=a.uniqueId("shr_canvas"),e.setAttribute("id",n)),this.id=n,this.root=e,this.pageInfo=t.pageInfo,this.contentInfo=t.contentInfo,this.elementInfo=t.elementInfo,this.resizeStream=t.resizeStream,this.scrollStream=t.scrollStream,this.touchMoveStream=t.touchMoveStream,this.contentStream=t.contentStream,this._emitter=new o}return r.prototype={on:function(){return this._emitter.on.apply(this._emitter,arguments)},off:function(){return this._emitter.off.apply(this._emitter,arguments)},close:a.noop,show:a.noop,hide:a.noop,onDestroy:a.noop,destroy:function(){this._endContentChange&&this._endContentChange()},percentVisible:function(){return t.percentageVisible(this.root)},dimensions:function(){var e=n.getComputedStyle(this.root);return{height:parseInt(e.height),width:parseInt(e.width)}},updateContent:function(){this._triggerContentChange&&this._triggerContentChange()},isAppVisible:function(t){return a.any(this.otherCanvases,function(e){return e.elementInfo.appName===t&&0<e.percentVisible()})},fromTopPercentage:function(e){return t.fromTopPercentage(e)},fromTopPixel:function(e){return t.fromTopPixel(e)},elementVisible:function(e){return t.elementVisible(e)}},r}),define("data/pageInfo",["require","lodash","utils/globalObject","URIjs/URI","utils/dom","utils/utils","utils/logger"],function(e){var t,n=e("lodash"),i=e("utils/globalObject"),s=e("URIjs/URI"),o=/post[-|_]/,l=e("utils/dom"),r=e("utils/utils"),c=e("utils/logger").child({name:"PageInfo"}),a=new s(i.document.location),u=["header#masthead",".header","#header","footer",".footer","#footer","aside",".sidebar","#sidebar",".comment",".post",'[id^="post"]','[id^="blog-post"]',"article"].join(",");function h(e,t){var n=l.uiDOM(e);if(null!==n)return n.getAttribute(t)}function d(e){var r=0,i="",t=e.querySelectorAll("h1, header, .title");return Array.prototype.forEach.call(t,function(e){var t=0,n=e.textContent.trim().replace(/(\r\n|\n|\r)/gm,"").replace(/\s{2,}/g," ");n.length&&(t=function(e){var t=0;e.tagName.match(/header|h1/i)&&(t+=10);e.className.match(/title/)&&(t+=8);return t}(e)),r<t&&(i=n,r=t)}),i}function p(e,t){var n,r=new RegExp(["^javascript:","dtym7iokkjlif","dsms0mj1bbhn4","/feed/",".rss",".jpg",".jpeg",".gif",".png"].join("|"),"gi"),i=0,o="";if(t<=1)return f();var a=e.querySelectorAll("a");if(Array.prototype.forEach.call(a,function(e){var t;!function(e,t){return!(0===t.length||l.parentMatches(e,"[class*=shareaholic-ui]")||l.parentMatches(e,".linkwithin_outer")||t.match(r))}(e,e.href)||(t=function(e){var t=function(e,t){e.match(/post/)&&(t+=8);e.match(/\?p=/)&&(t+=8);e.match(/\/[\d]{4}\/[\d]{2}\//)&&(t+=8);e.match(/\/blog\//)&&(t+=6);e.match(/bloglovin/gi)&&(t-=6);return t}(e.href,0);return t+=function(e,t){"bookmark"===e.rel&&(t+=12);e.title.match(/permalink/i)&&(t+=12);e.children&&null!==e.querySelector(".for_permalink")&&(t+=12);return t}(e,t),function(e,t){var n=e.tagName.toLowerCase();n.match(/header|h1/)&&(t+=8);n.match(/h2/)&&(t+=7);n.match(/h3/)&&(t+=6);n.match(/h4/)&&(t+=5);n.match(/h5/)&&(t+=4);n.match(/h6/)&&(t+=3);n.match(/header|h1|h2|h3|h4|h5|h6/)&&e.className.match(/title/)&&(t+=10);return t}(e.parentNode,t)}(e),i<t&&(n=e,i=t))}),n){o=n.href;try{o=new s(o).normalize()}catch(e){c.log("warning error normalizing URL ",e)}}else o=f();return o.toString()}function f(){var e=h('meta[name*="shareaholic:url"]',"content");if((e=(e=e||h('link[rel*="canonical"]',"href"))||h('meta[property*="og:url"]',"content"))&&0!==e.indexOf("http")){var t=a.host();0<=e.indexOf(t)&&(e=e.slice(e.indexOf(t)+t.length)),e=s(e).absoluteTo(a).toString()}return e&&"function"==typeof e.trim&&(e=e.trim()),e||new s(i.document.location).toString()}function m(e){return new s(e).normalize().absoluteTo(a).host()!==a.host()}function g(){var e=h('meta[name*="shareaholic:language"]',"content");return null!=e&&""!==e||null!=(e=i.document.documentElement.lang)&&""!==e||null!=(e=document.getElementsByTagName("html")[0].getAttribute("xml:lang"))&&""!==e||(e=h('meta[name*="og:locale"]',"content")),function(e){if(null!=e&&""!==e)return e=e.replace("_","-"),new RegExp("^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$").test(e)?e:void 0}(e)}function v(e){return a=new s(i.document.location),t&&!0!==e?(t.pageUri=a.clone(),t.canonicalUrl=f()||a.toString()):(t={pageUri:a.clone(),domain:a.domain(),title:function(){var e=l.uiDOM("title");return h('meta[property*="og:title"]',"content")||h('meta[name*="twitter:title"]',"content")||e&&e.textContent}(),images:y(),hasEmailAddressInURL:/(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/.test(s.decode(i.document.location)),isCurrentUrlHttpUrl:0===i.location.href.indexOf("http"),canonicalUrl:f()||a.toString(),wordpress:function(){var e=h('meta[name*="shareaholic:wp_version"]',"content");if(e)return{version:e}}(),drupal:function(){var e=h('meta[name*="shareaholic:drupal_version"]',"content");return e?{version:e}:void 0}(),posts:function(){var n=l.uiDOMAll("#posts");return 0===(n=null!==n?Array.prototype.reduce.call(Array.prototype.map.call(n,function(e){return Array.prototype.slice.call(e.children,0)}),function(e,t){return e.concat(t)},[]):[]).length&&(n=l.uiDOMAll(".post")),0===n.length&&(n=l.uiDOMAll('[id^="post"]')),0===n.length&&(n=l.uiDOMAll('[id^="blog-post"]')),0===n.length&&(n=l.uiDOMAll("article")),n=(n=Array.prototype.filter.call(n,function(e){return!l.parentMatches(e,u)})).map(function(e){var t={element:e,description:"",image:"",url:p(e,n.length)};return t.url?(t.title=d(e),t):null}).filter(function(e){return null!==e})}(),lang:g(),isShareable:"false"!==h('meta[name*="shareaholic:shareable_page"]',"content")&&!k(a),isPublic:function(){var e=h('meta[name*="shareaholic:article_visibility"]',"content");return"draft"!==e&&"private"!==e}(),referrer:function(){var e=i.document.referrer;return 2e3<e.length&&(e=new s(e).query("").toString()),e}(),isOtherDomain:m,isPinterestShareablePage:"nopin"!==h('meta[name*="pinterest"]',"content")}).title=r.collapseWhitespace(t.title),t}function _(e){return l.matches(e,"[class*=shareaholic]")?[]:e.querySelectorAll("img:not([class*=shareaholic])")}function b(e,n){return Array.prototype.forEach.call(e,function(e){var t=e.src;/^http|https/.test(t)&&n.push(t)}),n}function y(){var e=l.uiDOM("html"),t=e.querySelectorAll("meta[property*=image]"),n=_(e.querySelector("body")),r=[];return Array.prototype.forEach.call(t,function(e){var t=e.getAttribute("content");t&&r.push(t)}),b(n,r)}function w(e){return n.chain(e).compact().unique().value()}function k(e){var t=e.path(),n="/b/post-preview",r=t.indexOf(n);return-1!==r&&t.length-n.length===r}return{getPageInfo:v,contentInfo:function(e){var t,n=v(i),r="";return l.matches(e,"img")&&(r=e.src.trim(),void 0!==e.dataset.pinMedia&&0<e.dataset.pinMedia.length&&(r=e.dataset.pinMedia.trim())),n.posts.length<=1?{title:n.title,link:n.canonicalUrl,images:w([r].concat(y()))}:{title:d(t=function(e){for(var t=e.parentNode;!l.matches(t,"body");){if(o.test(t.getAttribute("id"))||t.classList.contains("post")||l.matches(t,"[class*=entry]")&&l.matches(t,"article"))return t;t=t.parentNode}return e}(e)),link:p(t,n.posts.length),images:w([r].concat(function(e){var t=_(e),n=y();return b(t,[]).concat(n)}(t)))}},elementInfo:function(e){var t=Object.assign({},e.dataset);return t.url&&(t.url=t.url.trim()),t.link&&(t.link=t.link.trim()),t.title&&(t.title=t.title.trim()),t.url&&!t.link&&(t.link=t.url),t.link=r.cleanLink(t.link),t.title=r.cleanTitle(t.title),t.services&&(t.services=n.each(t.services.split(","),function(e){return e.trim()})),t},resetCache:function(){t=void 0},updateGlobal:function(e){i=e},_isPreviewPage:k,isPreviewPage:function(){return k(a)},getPageCanonicalUrl:f}}),define("canvas/HoverCanvas",["require","lodash","./Canvas","utils/dom","utils/globalObject","data/pageInfo","utils/utils"],function(e){var f=e("lodash"),i=e("./Canvas"),o=e("utils/dom"),m=e("utils/globalObject"),t=e("data/pageInfo"),n=e("utils/utils");function r(e,c){var u=this,h=null;i.apply(this,arguments),e.style.pointerEvents="none",f.defaults(c,{targetSelector:"html",targetEnter:f.noop,targetLeave:f.noop,targetPosition:f.noop,targetEnterAction:"mouseover",targetLeaveAction:"mouseout"}),this._targetPosition=c.targetPosition,this._targets=Array.prototype.slice.call(o.uiDOMAll(c.targetSelector),0),this._listeners=[];var d=[];function p(t,e){var n=!0;return t.target!==e&&u._targets.forEach(function(e){e===t.target&&(n=!1)}),n}function t(s){function e(e){if(p(e,s)){c.targetEnter(this,u.root)&&(clearTimeout(h),h=null,u._activate(this))}}function t(e){if(p(e,s)){var t=this,n=t.getBoundingClientRect(),r=n.top+m.pageYOffset,i=n.left+m.pageXOffset,o=n.bottom+m.pageYOffset,a=n.right+m.pageXOffset;(e.pageY<r||e.pageY>o||e.pageX<i||e.pageX>a)&&null===h&&(h=setTimeout(function(){c.targetLeave(t,u.root),h=null},100))}}s.addEventListener(c.targetEnterAction,e),s.addEventListener(c.targetLeaveAction,t),u._listeners.push([s,c.targetEnterAction,e]),u._listeners.push([s,c.targetLeaveAction,t])}function n(e){function t(e){var t=s.children[l];o.matches(t,c.targetSelector)&&p(e,t)&&c.targetEnter(t,u.root)&&(clearTimeout(h),h=null,u._activate(t))}function n(e){var t=s.children[l];if(p(e,t)){var n=t.getBoundingClientRect(),r=n.top+m.pageYOffset,i=n.left+m.pageXOffset,o=n.bottom+m.pageYOffset,a=n.right+m.pageXOffset;(e.pageY<r||e.pageY>o||e.pageX<i||e.pageX>a)&&null===h&&(h=setTimeout(function(){c.targetLeave(t,u.root),h=null},100))}}var s=e.parentElement,l=o.getChildNumber(s,e);s.addEventListener(c.targetEnterAction,t),s.addEventListener(c.targetLeaveAction,n),u._listeners.push([e,c.targetEnterAction,t]),u._listeners.push([e,c.targetLeaveAction,n])}this._targets.forEach(function(e,t){var n=e.parentElement,r=m.getComputedStyle(e),i=m.getComputedStyle(n),o=parseFloat(r.height),a=parseFloat(r.width),s=parseFloat(i.height),l=parseFloat(i.width);!f.includes(["absolute","relative","sticky"],r.position)||"auto"===r.top&&"auto"===r.left&&"auto"===r.right&&"auto"===r.bottom?o===s&&a===l&&d.push(n):"hidden"===r.overflow&&.98<=o*a/(s*l)&&(u._target[t]=n)});for(var r=0;r<this._targets.length;r++){n(this._targets[r])}for(r=0;r<d.length;r++)t(d[r]);this.root.style.display="none"}return r.prototype=Object.create(i.prototype),f.assign(r.prototype,{constructor:r,_activate:function(e){this.elementInfo=Object.assign({},e.dataset),this.elementInfo.mediaInfo=this.elementInfo.mediaInfo||{},this.elementInfo.mediaInfo.title=n.cleanTitle(this._getPinnableImageDesc(e)),this.elementInfo.mediaInfo.pinURL=n.cleanLink(this._getPinnableLink(e)),this.contentInfo=t.contentInfo(e),this.updateContent(),this._targetPosition(e,this.root)},destroy:function(){this._listeners.forEach(function(e){var t=e[0],n=e[1],r=e[2];t.removeEventListener(n,r)}),this._listeners=[],i.prototype.destroy.call(this)},_getAnchorLink:function(e){for(var t=e;null!==t&&!o.matches(t,"a");)t=t.parentElement;if(null!==t){var n=t.getAttribute("href");if(!(/\.(gif|jpg|jpeg|png|webp|svg)$/i.test(n)||o.matches(e,"img")&&n===e.getAttribute("src")))return n}},_getPinnableLink:function(e){if(o.matches(e,"img")){var t=[e.dataset.pinUrl||"",this._getAnchorLink(e)];return(t=f.filter(t,function(e){return!!e})).length?t[0]:null}return null},_getPinnableImageDesc:function(e){if(!o.matches(e,"img"))return"";var t=[e.dataset.pinDescription||"",e.getAttribute("title")||"",e.getAttribute("alt")||""];return(t=f.filter(t,function(e){return 8<=e.replace(/\s/g,"").length})).length?t[0]:""}}),r}),define("utils/CanvasResolver",["require","utils/dom","utils/utils","lodash","utils/globalObject","canvas/Canvas","canvas/HoverCanvas","data/pageInfo","most","utils/logger"],function(e){var o=e("utils/dom"),t=e("utils/utils"),a=e("lodash"),s=e("utils/globalObject"),l=e("canvas/Canvas"),c=e("canvas/HoverCanvas"),u=e("data/pageInfo"),n=e("most"),r=e("utils/logger"),i="shareaholic-resolved-canvas";function h(e){this._root=e||o.uiDOM("body"),this._queries=[],this._contentPoller,this._canvases,this._canvasList=[],this._resizeStream=n.fromEvent("resize",s).debounce(100),this._scrollStream=n.fromEvent("scroll",s).debounce(100),this._touchMoveStream=n.fromEvent("touchmove",s).debounce(100),this._initContentPoller()}return r=r.child({name:"CanvasResolver",color:"purple"}),h.prototype={_addCanvases:function(e){var t=o.uiDOM;switch(e){case"shareable_images":if(null===t('[data-app="shareable_images"]')){var n=s.document.createElement("div");n.setAttribute("class","shareaholic-canvas shareaholic-media-overlay"),n.setAttribute("data-app","shareable_images"),n.style.display="none",o.appendToUiDom(n)}break;case"cookie_consent":if(null===t('[data-app="cookie_consent"]')){var r=s.document.createElement("div");r.setAttribute("class","shareaholic-canvas"),r.setAttribute("data-app","cookie_consent"),r.style.display="none",o.appendToUiDom(r)}break;case"floated_share_buttons":if(null===t('[data-app="floated_share_buttons"]')){var i=s.document.createElement("div");i.setAttribute("class","shareaholic-canvas shareaholic-share-buttons-container"),i.setAttribute("data-app","floated_share_buttons"),i.style.display="none",o.appendToUiDom(i)}}},_getCanvasForApp:function(n,e){var t,r=[];return e=e||this._root,this._addCanvases(n),t=this._getCanvases(e),Array.prototype.forEach.call(t,function(e){var t=e.dataset;t&&(t.app&&0===t.app.indexOf(n)||t.shareaholicWidgets&&0===t.shareaholicWidgets.indexOf(n))&&(e.classList.contains(i)||r.push(e))}),r},_getCanvases:function(e){return this._canvases=e.querySelectorAll(".shareaholic-canvas"),this._canvases},_getBookmarkletSlot:function(){var e=s.document.createElement("div");return e.setAttribute("class","shr-bookmarklet"),this._root.appendChild(e),e},_getCanvasForElement:function(e,t,n){var r,i={};return t.classList.add("shareaholic-ui"),t.style.display="",this._resolveCanvas(t),i.pageInfo=u.getPageInfo(s),i.contentInfo=u.contentInfo(t),i.elementInfo=u.elementInfo(t),i.elementInfo.appName=n,i.resizeStream=this._resizeStream,i.scrollStream=this._scrollStream,i.touchMoveStream=this._touchMoveStream,r="hover"===e.type?(i=a.merge(i,e.canvasOptions),new c(t,i)):new l(t,i),this._canvasList.push(r),r.otherCanvases=this._canvasList,r},_resolveCanvas:function(e){e.classList.add(i)},scan:function(t){var n=!1;return a.each(this._queries,function(e){this._search(e.params,function(){n=!0,e.cb.apply(this,arguments)},t)},this),n},onCanvas:function(e,t){var n=this,r={id:a.uniqueId("canvasQuery"),params:e,cb:t};return"app"===r.params.type&&this._queries.push(r),this._search(r.params,r.cb),{remove:function(){a.remove(n._queries,function(e){return e.id===r.id})}}},_search:function(t,n,e){var r;"bookmarklet"===t.type?n(this._getCanvasForElement(t,this._getBookmarkletSlot(),"dev")):"app"!==t.type&&"hover"!==t.type||(r=this._getCanvasForApp(t.appName,e),a.each(r,function(e){if(a.isNumber(t.limit)){if(0===t.limit)return;t.limit--,n(this._getCanvasForElement(t,e,t.appName))}else n(this._getCanvasForElement(t,e,t.appName))},this))},_initContentPoller:function(){var e=this;this._contentPoller=t.polling(500,2e3,function(){return e.scan()}),this._contentPoller.start()},_destroy:function(){this._queries=[],this._canvases=null,this._canvasList=null,this._contentPoller.stop()}},h}),define("data/defaultPublisherConfig",[],function(){return{_init_legacy:!1,_init_canvases:!0,api_key:null,site_id:null,_migrate_apps:null,domain:null,site_name:null,_platform:null,_platform_id:null,_category_id:null,_language_id:null,_site_verified:!1,_last_checked_at:null,_dispatchers:null,_is_special:null,_container_id:"shareaholic-container",data_partners_enabled:!0,x_device_enabled:!0,adzerk_site_id:null,analytics_ga_id:"",analytics_ga_enabled:!1,badge:{enabled:!1,theme:null,position:"lower-left",offset:"15px"},apps:{prompts:{enabled:!1,data:{},properties:{}},share_buttons:{analytics_utm_source:"${service_type}",analytics_utm_medium:"${service_name}",analytics_utm_campaign:"shareaholic",analytics_utm_enabled:!0,recovery_protocols:!1,recovery_base_domain:null,recovery_previous_domain:!1,enabled:!0,templates:{email:{subject:"${title}",body:"Link: ${link}\n\n${notes}\n\n--\nShared via ${source}"},twitter:{related:null,body:"${title} - ${short_link}"}},locations:{1:{enabled:!0,services:["facebook","twitter","pinterest","linkedin","email_this"],show_all_services_button:!0,headline:{text:""},theme:"",counter:"badge-counter"}},default_location_id:1,post_share_enabled:!0,post_share_ads_enabled:!0,post_share_custom_enabled:!1,post_share_custom_desktop:!1,post_share_custom_mobile:!1,post_share_follow_buttons_enabled:!1,post_share_follow_buttons_any:!1,post_share_follow_buttons_location_id:null,post_share_heading:"Thanks for sharing!",total_share_count_min:0},recommendations:{enabled:!0,blacklist:"",show_attribution:!0,approved_display_ads:!0,approved_native_ads:!0,promoted_content_level:0,display_ads_unit_count:4,locations:{2:{enabled:!0,theme:"",total:"medium",headline:{text:"You may also like:",style:{}}}},default_location_id:2},cookie_consent:{enabled:!1,show_to:0,message:"This website uses cookies",accept_button_text:"Okay",info_button_text:"More info",policy_url:"/privacy"},floated_share_buttons:{enabled:!1,services:[],show_all_services_button:!0,theme:"flat",style_class:"floated flat vertical",mobile_services:["facebook","twitter","email_this","whatsapp","sms"],mobile_class:"flat floated mobile bottom-align inset-counter",show_all_services_button_mobile:!0},_ad_spaces:{enabled:!0,approved:!1,show_attribution:!0,locations:{5:{enabled:!0,ad_format:"auto"}},default_location_id:5},follow_buttons:{enabled:!0,locations:{7:{enabled:!0,services_list:[],headline_text:"",theme:"flat"}},default_location_id:7},affiliate_links:{approved:!0,enabled:!0},anchor_ad:{enabled_mobile:!1,enabled_desktop:!1,approved:!0},_infinite_scroll_helper:{enabled:!0},_legacy_helper:{enabled:!1},total_share_count:{enabled:!0,services:["facebook","twitter","pinterest","tumblr","reddit","yummly","vk","buffer","fancy"],total_share_count:!0,total_share_count_text_color:"000000",total_share_count_bg_color:"ffffff",total_share_count_opacity:0,total_share_count_label:"Shares"}}}}),define("data/_services",{ALL_SERVICE_LIST:["email_this","twitter","facebook","pinterest","linkedin","google_bookmarks","google_mail","reddit","delicious","sms","whatsapp","yahoo_bookmarks","amazon_us_wish_list","odnoklassniki","amazon_jp_wish_list","amazon_fr_wish_list","amazon_de_wish_list","amazon_ca_wish_list","amazon_uk_wish_list","google_apps_mail","evernote","digg","mister_wong","mister_wong_ru","mister_wong_fr","mister_wong_es","mister_wong_cn","mister_wong_de","print","printfriendly","windows_live_favorites","tumblr","mewe","wechat","shareaholic_archive","facebook_messenger","yammer","box_net","wordpress_blog","techmeme","yc_hacker_news","diigo","aol_mail","yahoo_mail","hotmail","viber","kindle_it","mixi","weibo","xing","houzz","msdn","instapaper","soup_io","inbound_org","hootsuite","plurk","arto","trello","telegram","mix","kik","line_me","google_classroom","onenote","symphony","fancy","vk","wanelo","buffer","amazon_universal_registry","pinboard_in","stumpedia","viadeo","yahoo_messenger","aim","baidu","skype","yummly","flipboard","wykop","tinyurl","typepad_post","blogger_post","we_heart_it","bit_ly","mail","meneame","diigolet","pocket","fark"],SERVICES:{email_this:{title:"Email This",nickname:"email_this",locale:"en-US",rank:100,serviceRules:null,verb:"Mail",service_type:"email",handler:"share_via_protocol",protocol_url:"mailto:?subject=${templates.email.subject}&body=${templates.email.body}"},twitter:{title:"Twitter",nickname:"twitter",locale:"en-US",rank:100,serviceRules:null,verb:"Tweet",service_type:"socialnetwork",handler:"share_via_shareaholic"},facebook:{title:"Facebook",nickname:"facebook",locale:"en-US",rank:100,serviceRules:null,verb:"Share",service_type:"socialnetwork",handler:"share_via_shareaholic"},pinterest:{title:"Pinterest",nickname:"pinterest",locale:"en-US",rank:95,serviceRules:null,verb:"Pin",service_type:"bookmark",handler:"share_via_bookmarklet",bookmarklet_url:"javascript:void((function(){var e=document.createElement('script');e.setAttribute('type','text/javascript');e.setAttribute('charset','UTF-8');e.setAttribute('src','https://assets.pinterest.com/js/pinmarklet.js?r='+Math.random()*99999999);document.body.appendChild(e)})());"},linkedin:{title:"LinkedIn",nickname:"linkedin",locale:"en-US",rank:95,serviceRules:null,verb:"Share",service_type:"socialnetwork",handler:"share_via_redirect"},google_bookmarks:{title:"Google Bookmarks",nickname:"google_bookmarks",locale:"en-US",rank:95,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_redirect"},google_mail:{title:"Google Mail",nickname:"google_mail",locale:"en-US",rank:95,serviceRules:null,verb:"Mail",service_type:"email",handler:"share_via_redirect"},reddit:{title:"Reddit",nickname:"reddit",locale:"en-US",rank:95,serviceRules:null,verb:"Share",service_type:"news",handler:"share_via_redirect"},delicious:{title:"Delicious",nickname:"delicious",locale:"en-US",rank:95,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_redirect"},sms:{title:"SMS",nickname:"sms",locale:"en-US",rank:90,serviceRules:{isMobile:!0},verb:"Share",service_type:"mobile",handler:"share_via_bookmarklet",bookmarklet_url:"javascript:(function(){var a='sms:',b=navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/);/iP(hone|od|ad)/.test(navigator.userAgent)?(b=[parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3]||0,10)],a=0<b.length&&7<b[0]?a+'&':a+';'):a+='?';window.location = a+'body='+window.encodeURIComponent('${title} - ${link}')})();\n"},whatsapp:{title:"WhatsApp",nickname:"whatsapp",locale:"en-US",rank:90,serviceRules:null,verb:"Share",service_type:"im",handler:"share_via_redirect"},yahoo_bookmarks:{title:"Yahoo Bookmarks",nickname:"yahoo_bookmarks",locale:"en-US",rank:85,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_redirect"},amazon_us_wish_list:{title:"Amazon (US) Wish List",nickname:"amazon_us_wish_list",locale:"en-US",rank:81,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_redirect"},odnoklassniki:{title:"Odnoklassniki",nickname:"odnoklassniki",locale:"en-US",rank:80,serviceRules:null,verb:"Share",service_type:"socialnetwork",handler:"share_via_redirect"},amazon_jp_wish_list:{title:"Amazon (JP) Wish List",nickname:"amazon_jp_wish_list",locale:"ja",rank:80,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_redirect"},amazon_fr_wish_list:{title:"Amazon (FR) Wish List",nickname:"amazon_fr_wish_list",locale:"fr",rank:80,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_redirect"},amazon_de_wish_list:{title:"Amazon (DE) Wish List",nickname:"amazon_de_wish_list",locale:"de",rank:80,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_redirect"},amazon_ca_wish_list:{title:"Amazon (CA) Wish List",nickname:"amazon_ca_wish_list",locale:"en-CA",rank:80,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_redirect"},amazon_uk_wish_list:{title:"Amazon (UK) Wish List",nickname:"amazon_uk_wish_list",locale:"en-GB",rank:80,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_redirect"},google_apps_mail:{title:"Google Apps Mail",nickname:"google_apps_mail",locale:"en-US",rank:80,serviceRules:null,verb:"Mail",service_type:"email",handler:"share_via_redirect"},evernote:{title:"Evernote",nickname:"evernote",locale:"en-US",rank:80,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_redirect"},digg:{title:"Digg",nickname:"digg",locale:"en-US",rank:80,serviceRules:null,verb:"Share",service_type:"news",handler:"share_via_redirect"},mister_wong:{title:"Mister-Wong",nickname:"mister_wong",locale:"en-US",rank:76,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_redirect"},mister_wong_ru:{title:"Mister-Wong RU",nickname:"mister_wong_ru",locale:"ru",rank:75,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_redirect"},mister_wong_fr:{title:"Mister-Wong FR",nickname:"mister_wong_fr",locale:"fr",rank:75,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_redirect"},mister_wong_es:{title:"Mister-Wong ES",nickname:"mister_wong_es",locale:"es",rank:75,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_redirect"},mister_wong_cn:{title:"Mister-Wong CN",nickname:"mister_wong_cn",locale:"zh-CN",rank:75,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_redirect"},mister_wong_de:{title:"Mister-Wong DE",nickname:"mister_wong_de",locale:"de",rank:75,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_redirect"},print:{title:"Print",nickname:"print",locale:"en-US",rank:70,serviceRules:null,verb:"Print",service_type:"tool",handler:"share_via_bookmarklet",bookmarklet_url:"javascript:window.print();"},printfriendly:{title:"PrintFriendly",nickname:"printfriendly",locale:"en-US",rank:70,serviceRules:null,verb:"Share",service_type:"tool",handler:"share_via_redirect"},windows_live_favorites:{title:"Windows Live Favorites",nickname:"windows_live_favorites",locale:"en-US",rank:70,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_redirect"},tumblr:{title:"Tumblr",nickname:"tumblr",locale:"en-US",rank:60,serviceRules:null,verb:"Share",service_type:"tumblelog",handler:"share_via_redirect"},mewe:{title:"MeWe",nickname:"mewe",locale:"en-US",rank:50,serviceRules:null,verb:"Share",service_type:"socialnetwork",handler:"share_via_redirect"},wechat:{title:"WeChat",nickname:"wechat",locale:"en-US",rank:50,serviceRules:null,verb:"Share",service_type:"im",handler:"share_via_redirect"},shareaholic_archive:{title:"Read Later",nickname:"shareaholic_archive",locale:"en-US",rank:50,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_redirect"},facebook_messenger:{title:"Facebook Messenger",nickname:"facebook_messenger",locale:"en-US",rank:50,serviceRules:null,verb:"Share",service_type:"socialnetwork",handler:"share_via_bookmarklet",bookmarklet_url:'javascript:void function(){var c=/android|iphone|ipad|ipod/ig,a=c.test(window.navigator.userAgent);final_dest=a?window.location="fb-messenger://share?link=${link}&app_id=207766518608":window.open("https://www.facebook.com/dialog/send?app_id=207766518608&display=popup&link=${link}&redirect_uri=https://www.shareaholic.com/share/thanks","","width=700,height=550,left=0,top=0,resizable=yes,toolbar=no,location=no,scrollbars=yes,status=no,menubar=no")}();'},yammer:{title:"Yammer",nickname:"yammer",locale:"en-US",rank:50,serviceRules:null,verb:"Share",service_type:"socialnetwork",handler:"share_via_redirect"},box_net:{title:"Box",nickname:"box_net",locale:"en-US",rank:50,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_redirect"},wordpress_blog:{title:"WordPress Blog",nickname:"wordpress_blog",locale:"en-US",rank:50,serviceRules:null,verb:"Share",service_type:"blog",handler:"share_via_redirect"},techmeme:{title:"Techmeme",nickname:"techmeme",locale:"en-US",rank:50,serviceRules:null,verb:"Share",service_type:"news",handler:"share_via_redirect"},yc_hacker_news:{title:"Hacker News",nickname:"yc_hacker_news",locale:"en-US",rank:50,serviceRules:null,verb:"Share",service_type:"news",handler:"share_via_redirect"},diigo:{title:"Diigo",nickname:"diigo",locale:"en-US",rank:50,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_redirect"},aol_mail:{title:"AOL Mail",nickname:"aol_mail",locale:"en-US",rank:45,serviceRules:null,verb:"Mail",service_type:"email",handler:"share_via_redirect"},yahoo_mail:{title:"Yahoo! Mail",nickname:"yahoo_mail",locale:"en-US",rank:45,serviceRules:null,verb:"Mail",service_type:"email",handler:"share_via_redirect"},hotmail:{title:"Outlook",nickname:"hotmail",locale:"en-US",rank:45,serviceRules:null,verb:"Share",service_type:"email",handler:"share_via_redirect"},viber:{title:"Viber",nickname:"viber",locale:"en-US",rank:40,serviceRules:null,verb:"Share",service_type:"mobile",handler:"share_via_protocol",protocol_url:"viber://forward?text=${title} - ${link}"},kindle_it:{title:"Amazon Kindle It",nickname:"kindle_it",locale:"en-US",rank:40,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_redirect"},mixi:{title:"Mixi",nickname:"mixi",locale:"en-US",rank:40,serviceRules:null,verb:"Share",service_type:"socialnetwork",handler:"share_via_redirect"},weibo:{title:"Sina Weibo",nickname:"weibo",locale:"en-US",rank:40,serviceRules:null,verb:"Share",service_type:"socialnetwork",handler:"share_via_redirect"},xing:{title:"Xing",nickname:"xing",locale:"en-US",rank:40,serviceRules:null,verb:"Share",service_type:"socialnetwork",handler:"share_via_redirect"},houzz:{title:"Houzz",nickname:"houzz",locale:"en-US",rank:40,serviceRules:null,verb:"Share",service_type:"socialnetwork",handler:"share_via_bookmarklet",bookmarklet_url:"javascript:(function(){var head=document.getElementsByTagName('head')[0],script=document.createElement('script');script.type='text/javascript';script.src='https://www.houzz.com/js/clipperBookmarklet.js?' + Math.floor(Math.random()*99999);head.appendChild(script);})();"},msdn:{title:"MSDN",nickname:"msdn",locale:"en-US",rank:40,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_redirect"},instapaper:{title:"Instapaper",nickname:"instapaper",locale:"en-US",rank:40,serviceRules:null,verb:"Share",service_type:"tool",handler:"share_via_redirect"},soup_io:{title:"Soup.io",nickname:"soup_io",locale:"en-US",rank:35,serviceRules:null,verb:"Share",service_type:"tumblelog",handler:"share_via_bookmarklet",bookmarklet_url:"javascript:var es=['body','frameset','head'];var u='http://www.soup.io/';var fn='soup_bookmarklet_'+(Math.floor(Math.random()*100000));window.open(u+'bookmarklet-loading.html',fn,'toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=400');try{var s=document.createElement('script');s.setAttribute('src',u+'bookmarklet/js/'+ fn +'/5');for (var i=0;i<es.length;i++) {var e=document.getElementsByTagName(es[i])[0];if(e){e.appendChild(s);break;}}}catch(e){alert('This doesnt work here.');}void(0);"},inbound_org:{title:"Inbound.org",nickname:"inbound_org",locale:"en-US",rank:30,serviceRules:null,verb:"Share",service_type:"news",handler:"share_via_redirect"},hootsuite:{title:"HootSuite",nickname:"hootsuite",locale:"en-US",rank:30,serviceRules:null,verb:"Share",service_type:"tool",handler:"share_via_redirect"},plurk:{title:"Plurk",nickname:"plurk",locale:"en-US",rank:30,serviceRules:null,verb:"Share",service_type:"socialnetwork",handler:"share_via_redirect"},arto:{title:"Arto",nickname:"arto",locale:"en-US",rank:30,serviceRules:null,verb:"Share",service_type:"socialnetwork",handler:"share_via_redirect"},trello:{title:"Trello",nickname:"trello",locale:"en-US",rank:20,serviceRules:null,verb:"Share",service_type:"tool",handler:"share_via_redirect"},telegram:{title:"Telegram",nickname:"telegram",locale:"en-US",rank:20,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_redirect"},mix:{title:"Mix",nickname:"mix",locale:"en-US",rank:20,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_redirect"},kik:{title:"Kik",nickname:"kik",locale:"en-US",rank:20,serviceRules:null,verb:"Share",service_type:"mobile",handler:"share_via_redirect"},line_me:{title:"Line",nickname:"line_me",locale:"en-US",rank:20,serviceRules:null,verb:"Share",service_type:"mobile",handler:"share_via_redirect"},google_classroom:{title:"Google Classroom",nickname:"google_classroom",locale:"en-US",rank:20,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_redirect"},onenote:{title:"Microsoft OneNote",nickname:"onenote",locale:"en-US",rank:20,serviceRules:null,verb:"Share",service_type:"tool",handler:"share_via_redirect"},symphony:{title:"Symphony",nickname:"symphony",locale:"en-US",rank:20,serviceRules:null,verb:"Share",service_type:"tool",handler:"share_via_redirect"},fancy:{title:"Fancy",nickname:"fancy",locale:"en-US",rank:20,serviceRules:null,verb:"Share",service_type:"socialnetwork",handler:"share_via_bookmarklet",bookmarklet_url:"javascript:(function(){thefancy_username='';var script_id='thefancy_tagger_bookmarklet_helper_js',s=document.getElementById(script_id),can_continue=true;if(s){var t=window;try{if(t.thefancy_bookmarklet){t.thefancy_bookmarklet.tagger.clean_listeners();s.parentNode.removeChild(s)}else{can_continue=false;}}catch(e5){can_continue=false}};if(can_continue){_my_script=document.createElement('SCRIPT');_my_script.type='text/javascript';_my_script.id = script_id;_my_script.src='https://fancy.com/bookmarklet/fancy_tagger.js?x='+(Math.random());document.getElementsByTagName('head')[0].appendChild(_my_script);}})();"},vk:{title:"VK",nickname:"vk",locale:"en-US",rank:20,serviceRules:null,verb:"Share",service_type:"socialnetwork",handler:"share_via_redirect"},wanelo:{title:"Wanelo",nickname:"wanelo",locale:"en-US",rank:20,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_redirect"},buffer:{title:"Buffer",nickname:"buffer",locale:"en-US",rank:20,serviceRules:null,verb:"Share",service_type:"tool",handler:"share_via_redirect"},amazon_universal_registry:{title:"Amazon Universal Registry",nickname:"amazon_universal_registry",locale:"en-US",rank:20,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_redirect"},pinboard_in:{title:"Pinboard.in",nickname:"pinboard_in",locale:"en-US",rank:20,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_redirect"},stumpedia:{title:"Stumpedia",nickname:"stumpedia",locale:"en-US",rank:20,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_redirect"},viadeo:{title:"Viadeo",nickname:"viadeo",locale:"en-US",rank:20,serviceRules:null,verb:"Share",service_type:"socialnetwork",handler:"share_via_redirect"},yahoo_messenger:{title:"Yahoo Messenger",nickname:"yahoo_messenger",locale:"en-US",rank:20,serviceRules:null,verb:"Share",service_type:"im",handler:"share_via_redirect"},aim:{title:"AIM",nickname:"aim",locale:"en-US",rank:20,serviceRules:null,verb:"Share",service_type:"im",handler:"share_via_redirect"},baidu:{title:"Baidu",nickname:"baidu",locale:"en-US",rank:15,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_redirect"},skype:{title:"Skype",nickname:"skype",locale:"en-US",rank:10,serviceRules:null,verb:"Share",service_type:"socialnetwork",handler:"share_via_redirect"},yummly:{title:"Yummly",nickname:"yummly",locale:"en-US",rank:10,serviceRules:null,verb:"Share",service_type:"socialnetwork",handler:"share_via_bookmarklet",bookmarklet_url:"javascript:((function() {var ys = document.createElement('script'), jsUrl = 'https://www.yummly.com/js/yumlet.js?type=agg&vendor=shareaholic'; ys.setAttribute('type', 'text/javascript'); ys.setAttribute('src', jsUrl); document.documentElement.appendChild(ys);})())"},flipboard:{title:"Flipboard",nickname:"flipboard",locale:"en-US",rank:10,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_redirect"},wykop:{title:"Wykop",nickname:"wykop",locale:"en-US",rank:10,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_redirect"},tinyurl:{title:"TinyURL",nickname:"tinyurl",locale:"en-US",rank:10,serviceRules:null,verb:"Share",service_type:"urlshortener",handler:"share_via_redirect"},typepad_post:{title:"TypePad Post",nickname:"typepad_post",locale:"en-US",rank:10,serviceRules:null,verb:"Share",service_type:"blog",handler:"share_via_redirect"},blogger_post:{title:"Blogger Post",nickname:"blogger_post",locale:"en-US",rank:10,serviceRules:null,verb:"Share",service_type:"blog",handler:"share_via_redirect"},we_heart_it:{title:"We Heart It",nickname:"we_heart_it",locale:"en-US",rank:10,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_bookmarklet",bookmarklet_url:"javascript:void((function(){var e=document.createElement('script');e.setAttribute('type','text/javascript');e.setAttribute('charset','UTF-8');e.setAttribute('src','https://weheartit.com/bookmarklet.js');document.body.appendChild(e)})());"},bit_ly:{title:"Bitly",nickname:"bit_ly",locale:"en-US",rank:10,serviceRules:null,verb:"Share",service_type:"urlshortener",handler:"share_via_redirect"},mail:{title:"Mail",nickname:"mail",locale:"en-US",rank:10,serviceRules:null,verb:"Mail",service_type:"email",handler:"share_via_protocol",protocol_url:"mailto:?subject=${templates.email.subject}&body=${templates.email.body}"},meneame:{title:"Meneame",nickname:"meneame",locale:"en-US",rank:10,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_redirect"},diigolet:{title:"Diigolet",nickname:"diigolet",locale:"en-US",rank:5,serviceRules:null,verb:"Share",service_type:"bookmark",handler:"share_via_bookmarklet",bookmarklet_url:"javascript:(function(){s=document.createElement('script');s.type='text/javascript';s.src='https://www.diigo.com/javascripts/webtoolbar/diigolet_b_h_b.js';document.body.appendChild(s);})();"},pocket:{title:"Pocket",nickname:"pocket",locale:"en-US",rank:3,serviceRules:null,verb:"Share",service_type:"tool",handler:"share_via_redirect"},fark:{title:"Fark",nickname:"fark",locale:"en-US",rank:3,serviceRules:null,verb:"Share",service_type:"news",handler:"share_via_redirect"},youtube:{title:"YouTube"},vimeo:{title:"Vimeo"},linkedin_company:{title:"LinkedIn Company"},instagram:{title:"Instagram"},rss:{title:"RSS"},twitch:{title:"Twitch"},soundcloud:{title:"SoundCloud"},spotify:{title:"Spotify"},github:{title:"Github"},stackoverflow:{title:"Stack Overflow"},dribbble:{title:"Dribbble"},behance:{title:"Behance"},five_hundred_px:{title:"500px"},itunes_podcast:{title:"iTunes"},flickr:{title:"Flickr"},foursquare:{title:"Foursquare"},yelp:{title:"Yelp"},bloglovin:{title:"Bloglovin"},etsy:{title:"Etsy"},tripadvisor:{title:"Tripadvisor"},slideshare:{title:"SlideShare"},about_me:{title:"about.me"},vine:{title:"Vine"},ebay:{title:"eBay"},zillow_digs:{title:"Zillow"},disqus:{title:"Disqus"},feedly:{title:"Feedly"},patreon:{title:"Patreon"},snapchat:{title:"Snapchat"},medium:{title:"Medium"},strava:{title:"Strava"},meetup:{title:"Meetup"},livejournal:{title:"LiveJournal"},bbb:{title:"Better Business Bureau"},slack:{title:"Slack"}}}),define("data/services",["require","./_services"],function(e){var t=e("./_services");return-1===t.ALL_SERVICE_LIST.indexOf("all")&&t.ALL_SERVICE_LIST.push("all"),t.COUNTS_SUPPORTED=["buffer","facebook","fancy","linkedin","odnoklassniki","pinterest","reddit","stumbleupon","twitter","tumblr","vk","yummly"],null==t.SERVICES.all&&(t.SERVICES.all={locale:"en-US",nickname:"all",title:"More Options",service_type:"internal",handler:"show_all_services"}),t}),define("data/publisherConfig",["require","./defaultPublisherConfig","data/services","utils/utils","utils/settings","when","lodash","utils/globalObject","utils/logger"],function(e){var n,r,i,t,o,a=e("./defaultPublisherConfig"),s=e("data/services"),c=e("utils/utils"),l=e("utils/settings"),u=e("when"),h=e("lodash"),d=e("utils/globalObject"),p=e("utils/logger").child({name:"Publisher Config"}),f=/^v2_migrate_/,m=!l.bookmarklet,g={dev:{viglink:"0b3c47284874042c7a0a8775a40fb9b9"},stage:{viglink:"0b3c47284874042c7a0a8775a40fb9b9"},production:{viglink:"0d3176c012db018d69225ad1c36210fa"}};function v(e,t){var n={};if(e.post_share_follow_buttons_enabled)return(n=function(e,t){return e=e||t.default_location_id,h.merge({},t,t.locations[e])}(e.post_share_follow_buttons_location_id,t.follow_buttons)).services_list&&0<Object.keys(n.services_list).length&&(n.services_list=h.filter(n.services_list,function(e){return h.includes(h.keys(s.SERVICES),e)}),n.services=h.map(n.services_list,function(e){return{nickname:e,title:s.SERVICES[e].title}})),{apiKey:l.apiKey,app_id:n.location_id,app_id_name:n.name,endpoint:l.endpoints.follow,title:n.headline_text,buttons:n.services,theme:n.style_class,customColors:{customColorsEnabled:n.follow_button_custom_colors,background:"#"+n.follow_button_custom_colors_bg_color,color:"#"+n.follow_button_custom_colors_logo_color,opacity:n.follow_button_custom_colors_opacity}}}function _(){return{assetbase:l.assetbase,globalServices:s.SERVICES,allServiceList:s.ALL_SERVICE_LIST,userNavigation:h.clone(l.endpoints.user_navigation),shareEndpoint:l.endpoints.share,shortener:l.shortener_preferences,templates:a.apps.share_buttons.templates}}function b(e){p.log(e);var t={enabled:!0};return e&&void 0!==e.x_device_enabled&&(t.enabled=e.x_device_enabled),t}function y(e){return{"text-style":{headline:e||"Thanks for sharing!",alignment:"center-align",color:"FFFFFF","background-color":"64C667","font-family":"Open Sans","font-size":"28px","font-weight":400,"font-style":"normal"},"app-style":{"shareaholic-branding":!0,color:"555555","background-color":"FFFFFF"}}}function w(e,t,n,r){return e.adzerk_site_id=n.adzerk_site_id,e.imagebase=l.imagebase,e.globalServices=s.SERVICES,e.allServiceList=s.ALL_SERVICE_LIST,e.countsSupported=s.COUNTS_SUPPORTED,e.shareEndpoint=l.endpoints.share,e.homepage=n.homepage,e.userNavigation=h.clone(l.endpoints.user_navigation),e.shortener=r,e.follow_buttons=v(e,t),e.totalShareCountMin=e.total_share_count_min,e.analytics_utm_campaign=e.analytics_utm_campaign||t.share_buttons.analytics_utm_campaign,e.analytics_utm_medium=e.analytics_utm_medium||t.share_buttons.analytics_utm_medium,e.analytics_utm_source=e.analytics_utm_source||t.share_buttons.analytics_utm_source,e.recovery_protocols=e.recovery_protocols||t.share_buttons.recovery_protocols,e.recovery_previous_domain=e.recovery_previous_domain||t.share_buttons.recovery_previous_domain,e.recovery_base_domain=e.recovery_base_domain||t.share_buttons.recovery_base_domain,null==e.analytics_utm_enabled?e.analytics_utm_enabled=t.share_buttons.analytics_utm_enabled:e.analytics_utm_enabled=e.analytics_utm_enabled,e.templates=t.share_buttons.templates||{email:{subject:"${title}",body:"Link: ${link}\n\n${notes}\n\n--\nShared via ${source}"},twitter:{related:null,body:"${title} - ${short_link}"}},t.share_buttons.message_format&&(e.templates.twitter.body=t.share_buttons.message_format),void 0===t.share_buttons.post_share_customization?e.postShareCustomization=y(e.post_share_heading):(e.postShareCustomization=t.share_buttons.post_share_customization,delete e.post_share_customization),e.proxy_enabled=e.proxy_enabled||t.share_buttons.proxy_enabled,e.proxy_cache_time=e.proxy_cache_time||t.share_buttons.proxy_cache_time,e.apiKey=l.apiKey,e}function k(e,t){var n=t.apps.share_buttons;if(n)return e.total_share_count_min=n.total_share_count_min,e}function S(i,o){var a=i.shortener_preferences;return h.transform(o,function(e,t,n){var r=h.cloneDeep(t);r.apiKey=l.apiKey,"share_buttons"===n?r=w(r,o,i,a):"shareable_images"===n?r=function(e,t,n,r){var i=t.share_buttons;return i&&(e.post_share_ads_enabled=i.post_share_ads_enabled,t.recommendations.approved_display_ads||(e.post_share_ads_enabled=!1),e.post_share_enabled=i.post_share_enabled,e.adzerk_site_id=n.adzerk_site_id,e.follow_buttons=v(i,t),void 0===i.post_share_customization?e.postShareCustomization=y(i.post_share_heading):e.postShareCustomization=i.post_share_customization),e.homepage=n.homepage,e.imagebase=l.imagebase,e.globalServices=s.SERVICES,e.shareEndpoint=l.endpoints.share,e.shortener=r,e.headline_text="",e.share_button_custom_colors=!!e.share_button_custom_colors,e.share_button_custom_colors_bg_color=e.share_button_custom_colors_bg_color||"45a147",e.share_button_custom_colors_logo_color=e.share_button_custom_colors_logo_color||"ffffff",e.share_button_custom_colors_opacity=e.share_button_custom_colors_opacity||"0.5",e.size=e.size||"normal",e.orientation=e.orientation||"horizontal",e.position=e.position||"upper-left",e.vertical_offset=e.vertical_offset||"10px",e.horizontal_offset=e.horizontal_offset||"10px",e.icon_padding=e.icon_padding||"5px",e.theme=e.theme||"classic",e.ignore_links_to_other_pages=!!e.ignore_links_to_other_pages,e.ignore_links_to_other_images=!!e.ignore_links_to_other_images,e.services=h.map(e.services||["pinterest"],function(e){return{nickname:e,handler:"mail"===e||"email_this"===e?"share_via_protocol":"share_via_redirect"}}),e.templates=t.share_buttons.templates||{email:{subject:"${title}",body:"Link: ${link}\n\n${notes}\n\n--\nShared via ${source}"},twitter:{related:null,body:"${title} - ${short_link}"}},t.share_buttons.message_format&&(e.templates.twitter.body=t.share_buttons.message_format),e}(r,o,i,a):"follow_buttons"===n?r=function(e){return e.followEndpoint=l.endpoints.follow,h.each(e.locations,function(e){e.services_list=h.filter(e.services_list,function(e){return h.includes(h.keys(s.SERVICES),e)}),e.services=h.map(e.services_list,function(e){return{nickname:e,title:s.SERVICES[e].title}})}),e}(r):"floated_share_buttons"===n?r=function(e,t,n,r){var i=t.share_buttons;return e.post_share_ads_enabled=i.post_share_ads_enabled,t.recommendations.approved_display_ads||(e.post_share_ads_enabled=!1),e.post_share_enabled=i.post_share_enabled,e.post_share_heading=i.post_share_heading,e.adzerk_site_id=n.adzerk_site_id,e.shortener=r,e.smart_sort=i.smart_sort,e.recovery_protocols=i.recovery_protocols,e.recovery_structure=i.recovery_structure,e.recovery_base_domain=i.recovery_base_domain,e.recovery_previous_domain=i.recovery_previous_domain,e.recovery_previous_url_format=i.recovery_previous_url_format,e=w(e,t,n,r),c.isMobile()&&(e.style_class=e.mobile_class,e.vertical_offset="inherit",e.show_all_services_button=e.show_all_services_button_mobile,e.services=e.mobile_services,e.counter=e.mobile_counter,e.total_share_count=e.mobile_total_share_count,e.total_share_count_text_color=e.mobile_total_share_count_text_color,e.total_share_count_bg_color=e.mobile_total_share_count_bg_color,e.total_share_count_label=e.mobile_total_share_count_label,e.total_share_count_opacity=e.mobile_total_share_count_opacity,e.share_button_custom_colors=e.mobile_share_button_custom_colors,e.share_button_custom_colors_bg_color=e.mobile_share_button_custom_colors_bg_color,e.share_button_custom_colors_logo_color=e.mobile_share_button_custom_colors_logo_color,e.share_button_custom_colors_opacity=e.mobile_share_button_custom_colors_opacity),i&&(e.follow_buttons=v(i,t)),e}(r=k(r,i),o,i,a):"affiliate_links"===n?r=function(e){var t=g[c.getEnvironment()]||g.production;return e.viglink={cdnJs:"https://cdn.viglink.com/api/vglnk.js"},e.viglink.apiKey=t.viglink,e.apiKey=l.apiKey,e}(r):"anchor_ad"===n?r=function(e,t){return!0!==e.enabled_mobile&&!0!==e.enabled_desktop||(e.enabled=!0),e.adzerk_site_id=t.adzerk_site_id,e}(r,i):"outstream_video_ad"===n?r=function(e,t){return e.enabled=!1,e.adzerk_site_id=t.adzerk_site_id,e}(r,i):"in_image_ad"===n?r=function(e,t){return e.enabled=!1,e.adzerk_site_id=t.adzerk_site_id,e}(r,i):"partners"===n?r=function(e,t){return e.apiKey=l.apiKey,e.partnersUrl=l.endpoints.partners,e.domain=t.domain,e}(r,i):"adminbadge"===n?r=function(e,t){return e.apiKey=l.apiKey,e.domain=t.domain,e.enabled=t.badge.enabled,e.theme=t.badge.theme,e.position=t.badge.position,e.offset=t.badge.offset,e.imagebase=l.imagebase,e}(r,i):"prompts"===n?r=function(e,t){var n=t.apps.prompts;return e.homepage=t.homepage,e.data=d._SHR_PROMPTS_SETTINGS||n.data,e.properties=d._SHR_PROMPTS_PROPERTIES,void 0!==d._SHR_PROMPTS_SETTINGS&&(e.enabled=!0),e}(r,i):"total_share_count"===n&&(r=function(e,t,n,r){return(e=w(e,t,r,n)).showOnlyTotalCount=!0,e}(r=k(r,i),o,a,i)),r.isMobileMode=c.isMobile(),r.isDesktopMode=c.isDesktop(),r.adzerkSiteId=i.adzerk_site_id,r.clientGeoLatLong=i.x_client_geo_latlong,r.clientGeoCountry=i.x_client_geo_country,r.clientGeoCity=i.x_client_geo_city,r.clientGeoZip=i.x_client_geo_zip,r.clientGeoRegion=i.x_client_geo_region,r.clientGeoMetrocode=i.x_client_geo_metrocode,e[n]=r})}function x(e,r){var t=function(e){return h.reduce(e,function(e,t,n){return f.test(n)&&(e[n.replace(f,"")]=t),e},{})}(e);return h.reduce(t,function(e,t,n){return r&&n in r||(e[n]=t),e},{})}function R(e){var t=h.cloneDeep(e);return function n(r,i){h.each(r,function(e,t){h.isString(t)&&0===t.indexOf("_")?(delete r[t],delete i[t.replace("_","")]):h.isObject(e)&&n(e,i[t]||{}),i.default_location_id&&delete i.default_location_id})}(n=h.cloneDeep(a),t),function n(r){h.each(r,function(e,t){null==e?delete r[t]:h.isObject(e)&&n(e)})}(n),n.services=s,n=h.merge({site_id:o},n,t,i,function(e,t){if(h.isArray(e)&&h.isArray(t))return t})}c.isMobile()||(s.SERVICES=h.omit(s.SERVICES,function(e){return e.serviceRules&&e.serviceRules.isMobile}));var E={setSiteId:function(e){o=e},setConfig:function(e){R(e)},setDataStore:function(e){e},setBookmarkletOverrides:function(e){i=e},getAppConfigs:function(){return r?u(r):E.getMergedConfig().then(function(e){try{e=function(e){return e.apps.partners={},e.apps.partners.enabled=e.data_partners_enabled,e.apps.adminbadge={},e}(e),r=h.cloneDeep(e.apps)}catch(e){p.error("Could not get app config from legacy namespace",e),r={}}return r=S(e,r=function(e){var t=!(!i||!i.apps);return m&&!t?(p.log("Filtering apps for production mode"),e):m&&t&&!l.bookmarklet?(p.log("Filtering apps for upcoming bookmarklet mode"),x(e,i.apps)):l.bookmarklet&&t?(p.log("Filtering apps for bookmarklet mode"),function(e){return e}(e)):(p.error("Unknown app filtering mode"),{})}(r)),i&&h.each(r,function(e,t){i.settings&&i.settings.apps&&i.settings.apps[t]&&(r[t]=h.merge(r[t],i.settings.apps[t]))}),r})},getBookmarkletConfig:function(){return E.getMergedConfig().then(_)},getXDeviceConfig:function(){return E.getMergedConfig().then(b)},getConfigForCanvas:function(l){return E.getAppConfigs().then(function(e){var t,n=e[l.elementInfo.appName],r=c.underscoreKeys(l.elementInfo),i=n.default_location_id,o=i?n.locations[i]:null,a=i;if(r.app_id)a=r.app_id;else if(r.app_id_name){var s=h.find(n.locations,function(e){return e.name===r.app_id_name});s&&(a=s.location_id)}return t=a?h.merge({},n,n.locations[a],r):h.merge({},n,r,function(e,t){return h.isArray(e)&&h.isArray(t)?t:h.merge(e,t)}),h.merge(t,o,function(e,t){return void 0===e||r.inline?t:e}),delete t.default_location_id,delete t.locations,t})},getMergedConfig:function(){return n?u(n):(o?t?u(t):void 0:u({})).then(R)},getDefaultConfig:function(){return h.cloneDeep(a)},clearState:function(){i=t=o=r=n=void 0}};return E}),define("data/providers/recommendations",["require","URIjs/URI","when"],function(e){var l=e("URIjs/URI"),c=e("when");return function(t,e,n,r){var i=new l(t.location).normalize(),o=new l(e.endpoints.recommendations);"about:"===location.protocol&&o.protocol("https"),o.addQuery({asid:t.asid,location:i.toString(),canonical:t.canonical&&t.canonical.toString(),internal:t.internal,sponsored:t.sponsored,api_key:e.apiKey,cl:n.lang});var a=c.defer(),s=new XMLHttpRequest;return s.open("GET",o.toString(),!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.withCredentials=!0,s.onload=function(){a.resolve(JSON.parse(this.response))},s.onerror=function(){a.reject()},s.send(),a.promise.timeout(15e3).then(function(e){return r.log("url: %s, internal: %s, sponsored: %s",i.toString(),t.internal,t.sponsored,e),e},function(e){r.error("could not get recommendations",e)})}}),define("data/providers/wp_recommendations",["require","utils/utils","URIjs/URI","when"],function(e){var u=e("utils/utils"),h=e("URIjs/URI"),d=e("when");return function(e,t,n,r){var i,o,a,s,l=d.defer();if(r.log("Trying to backfill recs"),n.wordpress&&n.wordpress.version)if(a=n.wordpress.version,r.log("wordpress version %s supported version",a,"7.5.0.3"),0<u.compareVersions(a,"7.5.0.3")){r.log("wordpress plugin supports endpoint"),i=new h(e.location).normalize(),(o=new h(t.endpoints.local_recs_url)).addQuery({permalink:i.toString(),n:e.internal,match:"random",api_key:t.apiKey});var c=new XMLHttpRequest;c.open("POST",o.toString(),!0),c.setRequestHeader("Content-Type","application/json"),c.setRequestHeader("Accept","*/*"),c.withCredentials=!0,c.onload=function(){l.resolve(JSON.parse(this.response))},c.onerror=function(){l.reject()},c.send(),s=l.promise.timeout(9999)}else r.log("wordpress does not support backfill"),s=d([]);else r.log("platform does not support backfill"),s=d([]);return s}}),define("data/providers/shortenLink",["require","when","URIjs/URI"],function(e){var a=e("when"),s=e("URIjs/URI");return function(e,t){var n,r=a.defer(),i={url:e.url};if(t.shortpattern.test(i.url))return a(i.url);void 0===e.prefs?i.service=void 0:(null!=e.prefs.login&&(i.login=e.prefs.login),null!=e.prefs.api_key&&(i.api_key=e.prefs.api_key),null!=e.prefs.service&&(i.service=e.prefs.service)),(n=new s(t.endpoints.shorten)).query(i);var o=new XMLHttpRequest;return o.open("GET",n.toString(),!0),o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Accept","*/*"),o.withCredentials=!0,o.onload=function(){r.resolve(JSON.parse(this.response))},o.onerror=function(){r.reject()},o.send(),r.promise.timeout(9999).then(function(e){return"200"===e.status_code?e.data:i.url},function(){return i.url})}}),define("utils/featureDetect",[],function(){var e,t=!1;return window.addEventListener("touchstart",function e(){t=!0,window.removeEventListener("touchstart",e,!1)},!1),{localStorage:function(){var e="modernizr";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}(),flexBox:(e=document.documentElement.style,"flexWrap"in e||"WebkitFlexWrap"in e||"msFlexWrap"in e),touch:function(){return t},sessionStorage:function(){var e="modernizr";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(e){return!1}}()}}),define("utils/sessionStorageCache",["require","utils/featureDetect","utils/globalObject","lodash"],function(e){var t=e("utils/featureDetect"),i=e("utils/globalObject"),o=e("lodash"),a="SHR_CACHE_",s=t.sessionStorage;return{clear:function(){s&&o.chain(i.sessionStorage).keys().map(function(e){if(-1!==e.indexOf(a))return e}).compact().each(function(e){i.sessionStorage.removeItem(e)}).value()},get:function(e){var t;if(s){try{t=(t=i.sessionStorage.getItem(a+e))&&((t=JSON.parse(t)).expires<o.now()?void i.sessionStorage.removeItem(a+e):t.value)}catch(e){}return t}},set:function(e,t,n){var r={};if(n=n||3e5,s)try{r.value=t,r.expires=o.now()+n,i.sessionStorage.setItem(a+e,JSON.stringify(r))}catch(e){}}}}),define("data/shareCountRequests",["require","when","utils/globalObject"],function(e){var i=e("when"),o=e("utils/globalObject");function r(e){var t=i.defer(),n=new XMLHttpRequest;return n.open("GET",e.toString(),!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onload=function(){t.resolve(JSON.parse(this.response))},n.onerror=function(){t.reject()},n.send(),t.promise}function a(e,t){var n=i.defer();t||(t="JSONP_"+Math.floor(1e4*Math.random()),o[t]=function(e){n.resolve(e)},e.addSearch("callback",t));var r=o.document.createElement("script");return r.setAttribute("src",e.toString()),o.document.body.appendChild(r),n.promise}return{ajax:r,jsonp:a,request:function(e,t,n){return"json"===t?r(e):a(e,n)}}}),define("data/shareCount",["require","lodash","when","URIjs/URI","utils/globalObject","utils/settings","utils/sessionStorageCache","./shareCountRequests"],function(e){var u,s,h=e("lodash"),d=e("when"),p=e("URIjs/URI"),r=e("utils/globalObject"),f=e("utils/settings"),i=e("utils/sessionStorageCache"),l=e("./shareCountRequests"),c=f.endpoints.share_counts,t=["fancy","odnoklassniki","vk"],m=["buffer","tumblr","odnoklassniki"],g=["buffer"],v={},_={},b={},y={};function w(e,t){return i.get(t+"_"+e)}function k(e,t,n){i.set(t+"_"+e,n)}function o(e,t){var n={name:e.name,url:e.url,count:parseInt(t,10)};k(e.url,n.name,n),e.defer.resolve(n)}function a(e,t){var n,r=b[t]||{},i=c[t],o={name:t,url:e,defer:d.defer(),respKey:"count",endpoint:"UNKNOWN"},a={};return i?(i=new p(i),"buffer"===t&&(o.respKey="shares"),"tumblr"===t&&(o.respKey="response.note_count"),"facebook"===t?(a.fields="og_object{engagement{count}}",a[h.includes(e,",")?"ids":"id"]=e.toString(),o.respKey=["og_object","engagement","count"],o.respFn=function(e){var t=this.respKey;if("id"in e)return{name:o.name,url:o.url,count:h.get(e,t,0)};var r=h.zipObject(h.map(h.values(e),function(e){return[h.get(e,"id",o.url),h.get(e,t,0)]}));return h.forIn(r,function(e,t){if(0<e){var n=h.startsWith(t,"http://")?t.replace("http://","https://"):t.replace("https://","http://");e===h.get(r,n)&&(r[n]=0)}}),{name:o.name,url:o.url,count:h.sum(h.values(r))}}):a.url=e.toString(),"yummly"===t&&(o.dataType="json"),"reddit"===t&&(o.dataType="json",o.respKey="data.children[0].data.ups"),"odnoklassniki"===t&&(a.ref=e,a["st.cmd"]="extLike",a.uid=t+"_"+Math.floor(1e4*Math.random())),"vk"===t&&(a.act="count",a.index=Math.floor(1e4*Math.random())),"fancy"===t&&(a.ItemURL=e,a.callback=t+"_"+Math.floor(1e4*Math.random()),o.jsonpCallback=a.callback),i.query(a),o.endpoint=i,o.params=a,r[e.toString()]=o,b[t]=r):(k(e,t,n={name:t,url:o.url,count:0}),o.defer.resolve(n)),function(e){var t=y[e.name]||{};t[e.url.toString()]=e,y[e.name]=t}(o),s(),o.defer.promise}function S(e,r,t,n){var i=[e];if(r.recovery_protocols&&(h.includes(m,t)||i.push(h.startsWith(e,"http://")?e.replace("http://","https://"):e.replace("https://","http://"))),r.recovery_previous_domain&&(e.split("/")[2].replace("www.","")!==r.recovery_previous_domain.replace("www.","")||!h.includes(g,t))){var o=h.map(i,function(e){var t=e.split("/");return t[2]=r.recovery_previous_domain,t.join("/")});i=i.concat(o)}var a=null,s=[];return r.recovery_structure&&(s=h.compact(h.map(i,function(e){a=e.split("/").splice(0,3).join("/")+("/"===r.recovery_previous_url_format[0]?"":"/")+r.recovery_previous_url_format;var t=f.url_components;for(var n in t)t.hasOwnProperty(n)&&(a=a.replace("%"+n+"%",t[n]));if(-1===a.search(/%.*%/))return a}))),i=(i=i.concat(s)).map(function(e){return e.replace(/([^:]\/)\/+/g,"$1")}),"facebook"===t&&n?[i.join(",")]:i}function x(e,t,n){n=n||{};var r=new p(e).normalize().toString(),o=[];return h.each(t,function(i){var e=S(r,n,i,!0);h.each(e,function(e){var t,n=(y[i]||{})[e],r=w(e,i);t=n?n.defer.promise:r?d(r):a(e,i),o.push(t)})}),d.all(o)}function R(e,t,i){var n=h.groupBy(h.flatten(t),"name");return h.mapValues(n,function(e){var r=h.zipObject(h.map(e,function(e){return[e.url,e.count]}));return Object.keys(r).forEach(function(e){if(0!==r[e]){var t=h.startsWith(e,"http://")?e.replace("http://","https://"):e.replace("https://","http://");if(h.get(r,e)===h.get(r,t)&&(r[t]=0),i&&-1===e.indexOf(i)){var n=e.split("/");n[2]=i,(t=n.join("/"))!==e&&h.get(r,e)===h.get(r,t)&&(r[t]=0)}}}),h.sum(h.values(r))})}return s=h.debounce(function(){h.each(b,function(e){h.each(e,function(n){!function(t){switch(t.name){case"odnoklassniki":r.ODKL=r.ODKL||{updateCount:function(e,t){var n=r.ODKL.cachedRequest[e];n&&(o(n,t),delete r.ODKL.cachedRequest[e])},cachedRequest:{}},r.ODKL.cachedRequest[t.params.uid]=t;break;case"vk":r.VK=r.VK||{Share:{count:function(e,t){var n=r.VK.cachedRequest[e];n&&(o(n,t),delete r.VK.cachedRequest[e])}},cachedRequest:{}},r.VK.cachedRequest[t.params.index]=t;break;case"fancy":r.__FANCY_CALLBACK=r.__FANCY_CALLBACK||{cachedRequest:{}},r.__FANCY_CALLBACK[t.params.callback]=function(e){o(t,e.count)}}}(n),function(e){return l.request(e.endpoint,e.dataType,e.jsonpCallback)}(n).then(function(e){e=e||{};var t=n.respFn?n.respFn(e):{name:n.name,url:n.url,count:h.get(e,n.respKey,0)};k(n.url,t.name,t),n.defer.resolve(t)},function(){var e={name:n.name,url:n.url,count:0};h.contains(t,n.name)||(k(n.url,e.name,e),n.defer.resolve(e))})})}),b={}},100),u=h.debounce(function(){h.each(_,function(e,t){h.each(e,function(e,i){(function(e,t,n){var r=new p(e),i=h.map(n,function(e){return e.name}),o=h.head(n).params||{},a=h.clone(o);return a.url=t.toString(),a["services[]"]=i,r.addQuery(a),l.request(r,"json")})(t,i,e).then(function(r){r.data=r.data||{},h.each(e,function(e){var t,n=r.data[e.name]||0;0===n?e.defer.resolve(x(e.url,[e.name]).then(function(e){return e[0]})):(t={name:e.name,count:n,url:e.url},k(i,e.name,t),e.defer.resolve(t))})},function(){h.each(e,function(e){e.defer.resolve(x(e.url,[e.name]).then(function(e){return e[0]}))})})})}),_={}},100),{DELAY:100,getCounts:function(a,e,t,n){var r,s,l=[],c={};return!0===(n=n||{}).proxy_enabled&&(a=f.endpoints.share_count_proxy,c={api_key:n.apiKey,ttl:n.proxy_cache_time}),a?(r=new p(e).normalize(),s=v[a]||{},v[a]=s,h.each(t,function(o){var e=S(r.toString(),n,o,!1);h.each(e,function(e){var t,n=s[e],r=h.find(n,function(e){return e.name===o}),i=w(e,o);r?(t=r.defer.promise,l.push(t)):i?(t=d(i),l.push(t)):t=function(e,t,n,r){var i,o,a=_[e]||{},s=a[t]||[],l={name:n,defer:d.defer(),url:t,params:r};return s.push(l),a[t]=s,_[e]=a,(o=(i=v[e]||{})[t]||[]).push(l),i[t]=o,u(),l.defer.promise}(a,e,o,c),l.push(t)})}),d.all(l).then(function(e){return R(0,e,n.recovery_previous_domain)})):function(e,t,n){return x(e,t,n).then(function(e){return R(0,e,n.recovery_previous_domain)})}(e,t,n)},clearCaches:function(){i.clear(),v={},_={},b={},y={}}}}),define("data/providers/shareCounts",["require","../shareCount"],function(e){var a=e("../shareCount");return function(e,t){var n=t.endpoints.share_count,r=e.url,i=e.config||{},o=e.services;return r&&o?a.getCounts(n,r,o,i):{}}}),define("data/providers/userInfo",["require","URIjs/URI","when","utils/logger"],function(e){var o,a=e("URIjs/URI"),s=e("when"),l=e("utils/logger").child({name:"UserInfoProvider"});return function(e,t){var n,r=s.defer();if(o&&!e.skipCache)return o;n=new a(t.endpoints.user_info);var i=new XMLHttpRequest;return i.open("GET",n.toString(),!0),i.setRequestHeader("Content-Type","application/json"),i.setRequestHeader("Accept","*/*"),i.withCredentials=!0,i.onload=function(){r.resolve(JSON.parse(this.response))},i.onerror=function(){r.reject()},i.send(),o=r.promise.timeout(9999).then(function(e){return e=e||{}},function(e){return l.error("Error getting user_info",e),{}})}}),define("data/providers/userSiteInfo",["require","URIjs/URI","when","utils/logger"],function(e){var o=e("URIjs/URI"),a=e("when"),s=e("utils/logger").child({name:"UserSiteInfoProvider"});return function(e,t){var n=a.defer(),r=new o(t.endpoints.user_site_info),i=new XMLHttpRequest;return i.open("GET",r.toString()+"/"+t.apiKey,!0),i.setRequestHeader("Content-Type","application/json"),i.withCredentials=!0,i.onload=function(){n.resolve(JSON.parse(this.response))},i.onerror=function(){n.reject()},i.send(),n.promise.timeout(9999).then(function(e){return e||{}},function(e){return s.error("Error getting user_site_info",e),{}})}}),define("data/providers/loginUser",["require","URIjs/URI","when","utils/logger"],function(e){var o=e("URIjs/URI"),a=e("when"),s=e("utils/logger").child({name:"LoginUserProvider"});return function(e,t){var n=new o(t.endpoints.login_user),r=a.defer(),i=new XMLHttpRequest;return i.open("POST",n.toString()+".json",!0),i.setRequestHeader("Content-Type","application/vnd.api+json"),i.withCredentials=!0,i.onload=function(){r.resolve(JSON.parse(this.response))},i.onerror=function(){r.reject()},i.send(JSON.stringify({username_or_email:e.username,password:e.password})),r.promise.timeout(9999).then(function(e){return e||{}},function(e){return s.error("Error logging user",e),{}})}}),define("data/providers/asid",["require","URIjs/URI","when","lodash","utils/featureDetect","utils/globalObject"],function(e){var d,p=e("URIjs/URI"),f=e("when"),m=e("lodash"),g=e("utils/featureDetect"),v=e("utils/globalObject");function _(e){return!(!m.isString(e)||-1===e.indexOf("-"))}var b=null;return function(e,t,n,r){var i,o,a;if(e.url||(e.url=window.location.protocol+"//"+window.location.host.replace("www.","")),o=new p(e.url).normalize().toString(),"file:"===window.location.protocol.toString()&&(o=new p("https://"+v.Shareaholic.page_config().domain).normalize().toString()),d&&!e.skipCache)return f(m.clone(d));var s="SHR_CACHE_ASID_"+e.url,l=g.localStorage?JSON.parse(localStorage.getItem(s)):null;if(l&&l.timestamp){if(!(864e5<Date.now()-Date.parse(l.timestamp)))return d=l,f(m.clone(d))}if(null===b){i=new p(t.endpoints.asid),a={location:o,api_key:t.apiKey},i.addQuery(a);var c={asid:67093},u=f.defer(),h=new XMLHttpRequest;h.open("GET",i.toString(),!0),h.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),h.onload=function(){u.resolve(JSON.parse(this.response))},h.onerror=function(){u.reject()},h.send(),b=u.promise.timeout(9999).then(function(e){return r.log("url: %s",o,e),(d=e)&&e.asid&&_(e.asid)?{}:e&&e.asid&&function(e){var t=[];return _(e)&&(e=null,t.push("Blacklisted")),m.isNumber(e)||(e=parseInt(e,10)),m.isNaN(e)&&(e=null,t.push("NaN")),null!==e}(e.asid)?(g.localStorage&&(r.error("ASID stored for session"),localStorage.setItem(s,JSON.stringify(d))),m.clone(e)):c},function(e){return r.error("ASID not available",e),c})}return b}}),define("data/providers/share",["require","when","URIjs/URI"],function(e){var o=e("when"),a=e("URIjs/URI");return function(e,t){var n=o.defer(),r=new a(t.endpoints.share);r.query(e.shareParams);var i=new XMLHttpRequest;return i.open("POST",r.toString(),!0),i.setRequestHeader("Content-Type","application/json"),i.setRequestHeader("Accept","*/*"),i.withCredentials=!0,i.onload=function(){n.resolve(JSON.parse(this.response))},i.onerror=function(){n.reject()},i.send(),n.promise.timeout(9999).then(function(e){return"200"===e.status_code?e.data:{}},function(){return{}})}}),define("data/providers/pageview",["require","utils/logger"],function(e){var o=e("utils/logger").child({name:"pageview provider",color:"blue"});return function(t){var e=t.url.replace("[[CACHEBUSTER]]",Math.floor(1e10*Math.random()));if(navigator.sendBeacon){var n=Object.keys(t.query||{}).map(function(e){return e+"="+encodeURIComponent(t.query[e])}).join("&"),r=new Blob([n],{type:"application/x-www-form-urlencoded"});navigator.sendBeacon(e,r)}else{var i;window.XDomainRequest?(i=new window.XDomainRequest).open("GET",e):((i=new XMLHttpRequest).open("GET",e,!0),i.withCredentials=!0),i.ontimeout=function(){o.error("Timeout firing PV pixel")},i.onerror=function(){o.error("Error firing PV pixel")},i.onload=function(){o.log("We just fired the pixel.")},i.send(null)}return!0}}),define("data/DataStore",["require","lodash","utils/logger","./providers/recommendations","./providers/wp_recommendations","./providers/shortenLink","./providers/shareCounts","./providers/userInfo","./providers/userSiteInfo","./providers/loginUser","./providers/asid","./providers/share","./providers/pageview"],function(e){var r=e("lodash"),i=e("utils/logger"),o=e("./providers/recommendations"),a=e("./providers/wp_recommendations"),s=e("./providers/shortenLink"),l=e("./providers/shareCounts"),c=e("./providers/userInfo"),u=e("./providers/userSiteInfo"),h=e("./providers/loginUser"),d=e("./providers/asid"),p=e("./providers/share"),f=e("./providers/pageview");function t(e,t,n){this._settings=e,this._pageInfo=t,(n=n||{}).providers=r.defaults(n.providers||{},{recommendations:o,shortLink:s,shareCounts:l,share:p,wpRecommendations:a,userInfo:c,userSiteInfo:u,loginUser:h,asid:d,pageview:f}),this._providerLookup={recommendations:n.providers.recommendations,wp_recommendations:n.providers.wpRecommendations,shortenLink:n.providers.shortLink,share:n.providers.share,userInfo:n.providers.userInfo,userSiteInfo:n.providers.userSiteInfo,loginUser:n.providers.loginUser,shareCounts:n.providers.shareCounts,asid:n.providers.asid,pageview:n.providers.pageview},this._dataLookup={}}return i=i.child({name:"DataStore",color:"#B0A487"}),t.prototype={validateConfig:function(){var e={valid:!1};return this._settings?this._settings.endpoints?this._pageInfo?e.valid=!0:e.message="missing page info":e.message="missing endpoints":e.message="missing settings",e},get:function(e){var t;if(e.type in this._providerLookup)return(0,this._providerLookup[e.type])(e,this._settings,this._pageInfo,i);if(e.type in this._dataLookup)return this._dataLookup[e.type];throw(t=new TypeError("Unknown query type "+e.type)).data=e,i.error(t.message),t},set:function(e,t){if(e in this._dataLookup){var n=new TypeError("Data already exists in lookup "+e);throw n.data=e,i.error(n.message),n}this._dataLookup[e]=t}},t}),define("utils/DisplayRules",["require","utils/utils","lodash","URIjs/punycode"],function(e){var t=e("utils/utils"),i=e("lodash"),r=e("URIjs/punycode"),o=/https?:\/\//,a=/^\//,s=/\/$/,l=/^(www\.)/;function n(e){return e.replace(/\.[a-zA-Z0-9\-]*\b/g,"")}function c(e,t,n){e&&t?(this.canCheckRules=!0,this.homepage=e.replace(s,"").replace(o,"").replace(l,""),this.homepage=r.toASCII(this.homepage),this.canonicalUrl=t,this.location=t.replace(this.homepage,"").replace(o,"").replace(l,"").replace(a,""),this.location=decodeURIComponent(this.location),this.locationUrl=n||""):this.canCheckRules=!1}function u(t){return function(e){return e.path&&(e.path=e.path.replace(/^\//,"")),{passed:t[e.condition](e.path)}}}return i.extend(c.prototype,{matching:function(e){return e=e.replace(a,""),e=decodeURIComponent(e),this.location===e},containing:function(e){return e=decodeURIComponent(e),-1!==this.location.indexOf(e)||-1!==this.locationUrl.indexOf(e)},beginningWith:function(e){return e=e.replace(a,""),e=decodeURIComponent(e),this.location.substring(0,e.length)===e},isHomePage:function(){return n(this.canonicalUrl.replace(o,"").replace(s,"").replace(l,""))===n(this.homepage)},0:function(){return!0},1:function(){return this.isHomePage()},2:function(e){return this.matching(e)},3:function(e){return this.containing(e)},4:function(e){return this.beginningWith(e)},5:function(){return t.isMobile()},6:function(){return!t.isMobile()},shouldRenderOnPage:function(e){var t=!0,n=!1,r=[];return!e||(i.each(e,function(e){"string"==typeof e||e instanceof String?r.push(JSON.parse(e)):r.push(e)}),!(1!==r.length||!i.isEmpty(r[0]))||(i.any(r,{shown:1})&&(t=i.chain(r).where({shown:1}).map(u(this)).any("passed").value()),i.any(r,{shown:0})&&(n=i.chain(r).where({shown:0}).map(u(this)).any("passed").value()),t&&!n))}}),c}),define("apps/mediashare/query",["require","lodash","utils/DisplayRules","utils/dom","utils/globalObject","utils/utils"],function(e){var o,a,d=e("lodash"),s=e("utils/DisplayRules"),r=e("utils/dom"),p=e("utils/globalObject"),f=e("utils/utils"),t=["header#masthead",".header","#header","footer",".shareaholic-footer","#footer","aside",".sidebar","#sidebar",".comment"].join(","),i="shareaholic-media-target-hover-state",n=/gravatar/g,l=/pageview\.gif/g;function c(e){return!(!a.isPinterestShareablePage||r.parentMatches(e,t,"body, html")||o.ignore_links_to_other_images&&function(e){for(var t=e;null!==t&&!r.matches(t,"a");)t=t.parentElement;if(!t)return!1;var n=t.getAttribute("href");return/\.(gif|jpg|jpeg|png|webp|svg)$/i.test(n)}(e)||o.ignore_links_to_other_pages&&function(e){for(var t=e;null!==t&&!r.matches(t,"a");)t=t.parentElement;return!!t&&a.isOtherDomain(t.getAttribute("href"))}(e)||!function(e){var t=p.getComputedStyle(e),n=parseFloat(t.width),r=parseFloat(t.height);return!(n<80||r<80)&&!(n<120&&r<120)}(e)||function(e){var t=r.uiDOM("header");if(t)for(var n=e;null!==n;){if(n===t)return!0;n=n.parentNode}return!1}(e)||"nopin"===e.getAttribute("nopin")||null!==e.getAttribute("data-pin-nopin")&&0<e.getAttribute("data-pin-nopin").length||l.test(e.getAttribute("src"))||n.test(e.getAttribute("src")))}function u(e,t){e.classList.remove(i),t.style.display="none"}function h(e,t,n){!function(e,t,n){var r=p.getComputedStyle(e),i=e.getBoundingClientRect(),o=t.getBoundingClientRect();if((i.left!==o.left||i.top!==o.top)&&!0!==n.demo){var a=t.querySelectorAll(".shareaholic-share-button, .shareaholic-total-count");Array.prototype.forEach.call(a,function(e){e.style.opacity=0})}t.style.height=r.height,t.style.width=r.width,t.style.left=i.left+p.pageXOffset+"px",t.style.top=i.top+p.pageYOffset+"px"}(e,t,n);var r=p.getComputedStyle(e),i=d.get(n,"position","upper-left"),o=t.querySelector(".shareaholic-share-buttons-wrapper.shareaholic-ui");if(null!==o){var a=function(e,t,n){return f.calculatePositionInsideParent(e,t,n)}(o,t,i);o.style.top=a.top+"px",o.style.left=a.left+"px",o.style.pointerEvents="auto",o.style.position="absolute";var s=f.parseUnitAndAmount(d.get(n,"vertical_offset","")),l=s.amount,c=f.parseUnitAndAmount(d.get(n,"horizontal_offset","")),u=c.amount,h=f.parseUnitAndAmount(d.get(n,"icon_padding","")).amount;"%"===s.unit&&(l=l*parseFloat(r.height)/100),"%"===c.unit&&(u=u*parseFloat(e.width)/100),function(e,t,n,r,i,o,a){var s=0,l=0,c=p.getComputedStyle(t);if(0<=n.indexOf("lower")?l=-r:0<=n.indexOf("upper")&&(l=r),0<=n.indexOf("right")){var u=e.querySelectorAll("li"),h=p.getComputedStyle(u[0]),d=0;"horizontal"===a?(d=(parseFloat(h.width)+o)*u.length,0<=n.indexOf("lower")&&(e.style.top=parseFloat(c.height)-parseFloat(h.height)-r)):d=parseFloat(h.width),s=-i,e.style.left=parseFloat(c.width)-d}else 0<=n.indexOf("left")&&(s=i);e.style.transform="translate("+s+"px, "+l+"px)"}(o,e,i,l,u,h,n.orientation)}}function m(e,t){var n=r.getZindex(e);e.classList.add(i),"auto"===t.style.top&&(t.style.top="-1000px"),t.style.position="absolute",t.style.display="inline-block",h(e,t,o),t.style.zIndex=n}return function(e,t,n){var r={};if((o=t).demo)r={render:m,updateOffsets:h};else{a=n.getPageInfo();var i=new s(o.homepage,a.canonicalUrl);if(i.canCheckRules&&!i.shouldRenderOnPage(o.display_rules))return;r={targetSelector:"img",targetEnter:c,targetLeave:u,targetPosition:m}}return{type:"hover",appName:e,limit:1,canvasOptions:r}}}),define("apps/floatedshare/query",["require","lodash","utils/DisplayRules"],function(e){var r,i=e("lodash"),o=e("utils/DisplayRules");function a(e){return e.path&&(e.path=e.path.replace(/^\//,"")),{passed:r[e.condition](e.path)}}return function(e,t,n){if(!(r=new o(t.homepage,n.getPageInfo().canonicalUrl,n.getPageInfo().pageUri.toString())).canCheckRules||function(e){var t=!0,n=!1,r=[];return!e||(i.each(e,function(e){r.push(JSON.parse(e))}),!(1!==r.length||!i.isEmpty(r[0]))||(i.any(r,{shown:1})&&(t=i.chain(r).where({shown:1}).map(a).any("passed").value()),i.any(r,{shown:0})&&(n=i.chain(r).where({shown:0}).map(a).any("passed").value()),t&&!n))}(t.display_rules))return{type:"app",appName:e}}}),define("analytics/ErrorLogger",["require","utils/settings","utils/globalObject","utils/logger"],function(e){var a=e("utils/settings"),s=e("utils/globalObject"),l=e("utils/logger").child({name:"ErrorLogger",color:"red"});function c(e){window.Raven&&window.Raven.captureException(e,{tags:{url:s.location.href}})}function t(e,t,n,r,i){var o=e+" "+s.location+"line:"+n;l.log("Uncaught Error %s",o),a.debug||c(i)}function n(e){var t="RequireJS Error: "+e.requireType+" "+e.message;if(e.requireModules&&e.requireModules.length&&(t+=" Modules: "+e.requireModules.join("\n")),l.log("RequireJS Error"),l.log(t),a.debug)throw e;c(e)}return{bindOnError:function(){window.onerror=t},bindRequireJSError:function(){window.requirejs.onError=n},logException:function(e,t,n){var r="Level:"+e+" component:"+t;n&&(r+=" message:"+n.message),l.log("Logging error level: %s component: %s",e,t),l.error(r),a.debug||c(n)},error:function(e,t,n){var r=e+" "+t+" ";try{r+=JSON.stringify(n)}catch(e){r+=n}l.log("Logging error level: %s component: %s",e,t),l.error(r),a.debug||c(r)}}}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("deepmerge",t):(e=e||self).deepmerge=t()}(this,function(){"use strict";var i=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)};var n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function o(e,t){return!1!==t.clone&&t.isMergeableObject(e)?l(function(e){return Array.isArray(e)?[]:{}}(e),e,t):e}function a(e,t,n){return e.concat(t).map(function(e){return o(e,n)})}function e(e){return Object.keys(e).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return t.propertyIsEnumerable(e)}):[]}(e))}function s(t,n,r){var i={};return r.isMergeableObject(t)&&e(t).forEach(function(e){i[e]=o(t[e],r)}),e(n).forEach(function(e){r.isMergeableObject(n[e])&&t[e]?i[e]=function(e,t){if(!t.customMerge)return l;var n=t.customMerge(e);return"function"==typeof n?n:l}(e,r)(t[e],n[e],r):i[e]=o(n[e],r)}),i}function l(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||a,n.isMergeableObject=n.isMergeableObject||i;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):s(e,t,n):o(t,n)}return l.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,t){return l(e,t,n)},{})},l}),define("utils/helperFunctions",["require","deepmerge"],function(e){return{merge:function(){for(var e,t=0;t<arguments.length;t++){var n=arguments[t];e=Array.isArray(n)?(e||[]).concat(n):Object.assign(e||{},n)}return e},transformObject:function(e,t){var n={};for(var r in e){if(!1===t(n,e[r],r))return n}return n},eachObject:function(e,t){for(var n in e){if(!1===t(e[n],n))return}},keys:function(e){var t=0<arguments.length&&void 0!==e?e:{};return Object.keys(t)},deepMerge:e("deepmerge"),first:function(e){return(0<arguments.length&&void 0!==e?e:[])[0]},isFunction:function(e){return!!(e&&e.constructor&&e.call&&e.apply)},last:function(e){var t=0<arguments.length&&void 0!==e?e:[];return t.length?t[length-1]:void 0},slice:function(e,t,n){return e=e||[],Array.isArray(e)?e.slice(t,n):[]},tail:function(e){var t=0<arguments.length&&void 0!==e?e:[];return Array.isArray(t)?t.slice(1,t.length):[]},isString:function(e){return"[object String]"===Object.prototype.toString.call(e)},isArray:function(e){return Array.isArray(e)}}}),define("utils/helper",[],function(){return{getCurrentDateEpochFormat:function(){return+new Date}}}),define("utils/trackVisitor",["require","./localStore","./helper","./globalObject","data/pageInfo"],function(e){"use strict";var n=e("./localStore"),i=e("./helper"),o=e("./globalObject"),a=e("data/pageInfo"),r="targeting",s="numberOfPageViews",l="numberOfSessions",c="firstVisit",u="lastVisit",h="currentExternalReferrer",d="originalExternalReferrer",p="currentSessionStartedAt",f="currentPageViews";return{_preProcessSiteID:function(e){return e="SHR:"+(e=""===(e=e||"default").trim()?"default":e)},_getDataUsingSiteID:function(e){e=this._preProcessSiteID(e);var t=n.getObject(e);return(t=t||{})[r]=t[r]||{},t[r][s]=t[r][s]||0,t[r][l]=t[r][l]||0,t[r][f]=t[r][f]||0,t[r][c]=t[r][c]||i.getCurrentDateEpochFormat(),t[r][u]=t[r][u]||i.getCurrentDateEpochFormat(),t[r][h]=t[r][h]||null,t[r]},_storeVisitorMetrics:function(e,t){return e=this._preProcessSiteID(e),n.setObject(e,{targeting:t})},_isNewSession:function(e){var t=new Date;return t.setMinutes(t.getMinutes()-30),e<+t},_getDomainFromURL:function(e){if(""===e.trim())return"";var t=document.createElement("a");return t.href=e,t.hostname},track:function(e){var t=this._getDataUsingSiteID(e);t[s]++,t[u]=i.getCurrentDateEpochFormat(),void 0!==t[p]&&!this._isNewSession(t[p])||(t[l]+=1,t[p]=i.getCurrentDateEpochFormat(),t[f]=0),t[f]++;var n=a.getPageInfo().referrer,r=o.document.location.hostname;return n.indexOf(r)<0&&(t[h]=n,t.currentExternalReferrerDomain=this._getDomainFromURL(n),t[d]=t[d]||t[h]),t.currentPageViewStartedAt=i.getCurrentDateEpochFormat(),this._storeVisitorMetrics(e,t),t},getVisitorMetrics:function(e){return this._getDataUsingSiteID(e)}}}),define("apps/partners/app",["require","when","URIjs/URI","utils/logger","utils/dom","utils/utils","utils/trackVisitor","utils/settings"],function(e){var r=e("when"),a=e("URIjs/URI"),s=e("utils/logger"),l=e("utils/dom"),c=e("utils/utils"),u=e("utils/trackVisitor"),i=e("utils/settings");function h(e,t){var n=function(e,t){var n={},r=t.pageUri.toString(),i=t.canonicalUrl;if(r&&(n.location=r),i&&i!==r&&(n.canonical=i),"file:"===window.location.protocol.toString()){var o=new a("https://"+e.domain).normalize().toString();n.location=o}return n}(e,t);return t.referrer&&(n.referrer=t.referrer),n.cl=t.lang,n.id_sync=i.uuid,i.e_cookie_enc?n.ee=i.e_cookie_enc:i.e_enc?n.ee=i.e_enc:i.e_hash&&(n.e=i.e_hash),n}return s=s.child({name:"Partners",color:"#009900"}),{load:function(t,e){var n=r.defer();try{(function(e,t){var n=t.getPageInfo();if(e.enabled&&n.isShareable&&!c.isBot()&&!n.hasEmailAddressInURL&&n.isCurrentUrlHttpUrl){var r=h(e,n),i=u.getVisitorMetrics(e.apiKey);i.numberOfPageViews&&(r.pvs=i.numberOfPageViews),e.apiKey&&(r.site=e.apiKey);var o=new a(e.partnersUrl).search(r).toString();l.loadScript(o,{id:"shr-partners",async:!0,preload:!1,context:"head"})}else s.log("Do not load Partners...")})(function(e){if(void 0===e.enabled)throw new Error("undefined enabled property");if(!e.partnersUrl)throw new Error("No partners url");return e}(t),e),n.resolve()}catch(e){s.error("Could not render partners: ",e),e.data=t,n.reject(e)}return n.promise}}}),define("apps/index",["utils/logger","utils/profiler","data/publisherConfig","data/DataStore","apps/mediashare/query","apps/floatedshare/query","analytics/ErrorLogger","utils/settings","utils/utils","utils/helperFunctions","utils/globalObject","apps/partners/app"],function(u,l,h,e,t,n,c,d,p,f,m){function r(e){return{type:"app",appName:e}}var g={partners:{moduleId:"apps/partners/app",loadScript:!0},adminbadge:{moduleId:"apps/adminbadge/initial",loadScript:!0},affiliate_links:{moduleId:"apps/affiliatelinks/app",loadScript:!0},anchor_ad:{moduleId:"apps/anchorad/app",loadScript:!0},outstream_video_ad:{moduleId:"apps/outstreamvideoad/app",loadScript:!0},in_image_ad:{moduleId:"apps/inimagead/app",loadScript:!0},prompts:{moduleId:"apps/prompts/app",loadScript:!0},recommendations:{moduleId:"apps/recommendations/app",query:r},share_buttons:{moduleId:"apps/sharebuttons/app",query:r},follow_buttons:{moduleId:"apps/followbuttons/app",query:r},cookie_consent:{moduleId:"apps/cookieconsent/app",query:r},shareable_images:{moduleId:"apps/sharebuttons/app",query:t},floated_share_buttons:{moduleId:"apps/sharebuttons/app",query:n},total_share_count:{moduleId:"apps/sharebuttons/app",query:r}},v={share:function(e,n,r,i,o,a){var s,t,l,c=e[0];if(2===e.length&&"string"==typeof e[1]&&(c.service=e[1]),3===e.length&&e[2].share_object_config&&(t=e[2].share_object_config,c.title=t.link_title,c.link=t.link,c.short_link=t.link,c.message_format=t.message_format,void 0!==t.image&&""!==t.image&&(c.image=t.image),void 0!==t.summary&&""!==t.summary&&(c.summary=t.summary)),c.short_link=c.short_link||c.link,u.log("Sharehandler invoked",c),null==c||null==c.service)return u.log("No service specified",c),(l=new TypeError("No service name specified")).data=c,n(l);s=h.getBookmarkletConfig(),window.require(["apps/sharebuttons/app"],function(t){s.then(function(e){t.renderBookmarklet(r,e,i,o,a).then(function(e){e.shareVia(c.service,c),n(null,e)},n)})})}};return u=u.child({name:"AppIndex",color:"silver"}),{startApp:function(n,r,i,o,a){var e=g[n],s=h.getConfigForCanvas(r);e?window.require([e.moduleId],function(t){l.logTime("Loaded app  "+n),s.then(function(e){l.logTime("Got config for "+n),function(e,t){l.logTime("Starting rendering app : "+n),e.render(r,t,i,o,a).then(function(t){if(l.logTime("Rendered app : "+n),d.debug&&t&&t.getDebugOutput){var e=m.document.createElement("div");e.setAttribute("class","shr-debug"),e.textContent="SHR DEBUG",r.root.insertAdjacentElement("afterend",e),e.addEventListener("click",function(){var e=t.getDebugOutput();p.openDebugWindow(e)})}}).otherwise(function(e){var t;c.logException("warn",n,e),d.debug&&(t='<h1 style="color:red;">'+(e&&e.message?e.message:e)+"</h1>",t+="<pre>"+JSON.stringify(e&&e.data?e.data:e,null,2)+"</pre>",r.root.innerHTML=t,e&&e.stack&&u.error(e.stack))})}(t,e)})}):u.log("unknown app "+n)},loadScript:function(t,n,r){var e=g[t];e?window.require([e.moduleId],function(e){l.logTime("Initialized Script App: "+t),e.load(n,r).otherwise(function(e){c.logException("warn",t,e),d.debug&&(e.message,JSON.stringify(e.data,null,2),u.error(e.stack))})}):u.log("unknown app "+t)},isScriptApp:function(e){return g[e]&&g[e].loadScript},queryForConfig:function(e,t,n){var r=g[e];return r?r.query?r.query(e,t,n):u.log("no query function for app %s",e):u.log("unknown app %s",e)},addPublicApiHandler:function(e,t,n,r,i,o,a){var s=e[t],l=function(o,a,s,l,e){var c=f.deepMerge.all([{},v,e]);return e=e||{},function(e){var t,n,r,i;if(Array.isArray(e)&&e.length&&(n=f.first(e),i=1<e.length&&f.isFunction(f.last(e))?(t=f.last(e),f.slice(e,1,e.length-1)):f.tail(e),f.isString(n)))return(r=c[n])?r(i,t,o,a,s,l):t(new TypeError("Unknown command type "+n));u.log("Invalid command object or Unknown type",e)}}(n,r,i,o,a),c=[];f.isArray(s)?(c=c.concat(s),s=null):s&&(c=s.commands,s.push=l),null==s&&(s={push:l}),c.forEach(l),e[t]=s}}}),function(s){var e,d,l="data-shr-assetbase",c={dev:"//spreadaholic.com:5200/app/client/public/js/",stage:"https://i4f4x8r4.stackpathcdn.com/v2/",production:"https://k4z6w9b5.stackpathcdn.com/v2/"},u="shrMain.min.js",h=/shareaholic\.js/,p="Shareaholic",r=/MSIE 9\./,f="<%= codeShaId %>",m="<%= fontsShaId %>",g="<%= imagesShaId %>",i={dev:"https://www.stageaholic.com/publisher_tools",stage:"https://grace.stageaholic.com/config",production:"https://www.shareaholic.net/config"},v={},t=window.SHR_NAMESPACE||p;function o(e,t){var n;"Microsoft Internet Explorer"===s.navigator.appName&&r.test(s.navigator.userAgent)&&s.XDomainRequest?(n=new s.XDomainRequest).open("GET",e):(n=new XMLHttpRequest).open("GET",e,!0),n.ontimeout=function(){t(new Error("Timeout getting publisher config"))},n.onerror=function(){t(new Error("Error getting publisher config"))},n.onprogress=function(){},n.onload=function(){var e={};try{(e=JSON.parse(n.responseText)).x_client_geo_latlong=n.getResponseHeader("x-client-geo-latlong"),e.x_client_geo_country=n.getResponseHeader("x-client-geo-country"),e.x_client_geo_city=n.getResponseHeader("x-client-geo-city"),e.x_client_geo_zip=n.getResponseHeader("x-client-geo-zip"),e.x_client_geo_region=n.getResponseHeader("x-client-geo-region"),e.x_client_geo_metrocode=n.getResponseHeader("x-client-geo-metrocode")}catch(e){return t(new Error("Error parsing responseText "+e.message))}t(null,e)},setTimeout(function(){n.send()},0)}function _(e,t,n){t=t||"00000";var r=i[e];if(!r)return n(new Error("Missing config endpoint for environment "+e));o(r+="/"+t+".json",n)}function b(e,t){e.document.body?t():setTimeout(function(){b(e,t)},10)}function y(l,c,e,u,t){u=u||function(){};var h=l.document.createElement("iframe"),n="SHR-"+Math.round(1e3*Math.random())+1;return h.id=n,h.onload=function(){var r=h.contentWindow,e=r.document,i=e.head,t=v.environment||"production",n="production"===t?.05:1,o="production"===t?.2:1,a="";if(!/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/gi.test(l.navigator.userAgent)&&Math.random()<o){a="  window.SENTRY_SDK = {    url: 'https://cdn.ravenjs.com/3.26.4/raven.min.js',    dsn: \"https://65156d2850a2480086d4f28a20d8208e@sentry.shareaholic.com/12\",    options: {      collectWindowErrors: false,      sampleRate: "+n+',      release: "'+f+'",      environment: "'+t+'"    }  }  ;(function(a,b,g,e,h){var k=a.SENTRY_SDK,f=function(a){f.data.push(a)};f.data=[];var l=a[e];a[e]=function(c,b,e,d,h){f({e:[].slice.call(arguments)});l&&l.apply(a,arguments)};var m=a[h];a[h]=function(c){f({p:c.reason});m&&m.apply(a,arguments)};var n=b.getElementsByTagName(g)[0];b=b.createElement(g);b.src=k.url;b.crossorigin="anonymous";b.addEventListener("load",function(){try{a[e]=l;a[h]=m;var c=f.data,b=a.Raven;b.config(k.dsn,k.options).install();var g=a[e];if(c.length)for(var d=0;d<c.length;d++)c[d].e?g.apply(b.TraceKit,c[d].e):c[d].p&&b.captureException(c[d].p)}catch(p){console.log(p)}});n.parentNode.insertBefore(b,n)})(window,document,"script","onerror","onunhandledrejection");';var s=e.createElement("script");s.textContent=a,e.body.appendChild(s)}setTimeout(function(){d&&c.push({text:'window.settings.siteid="'+d+'";'});for(var e=0;e<c.length;e++){var t=c[e],n=r.document.createElement("script");t.text?n.text=t.text:t.src&&(n.src=t.src,n.async="true"),i.appendChild(n)}setTimeout(u.bind(null,r),100),h.dataset.loaded="YES"},1)},t?t(h):(h.style.display="none",h.frameBorder="0"),e.appendChild(h),h}function w(e){var t=e.environment||"production";return e.bookmarklet||function(){var e=null;try{e=localStorage.getItem("SHR_LOCAL")}catch(e){}return e}()?e.assetbase:/[0-9a-f]{5,40}/.test(f)?(e.assetbase||c[t])+f+"/":e.assetbase||c[t]}function k(e){var t=/^data-shr-/,n={};if(e)for(var r,i=0,o=e.attributes,a=o.length;i<a;i++)r=o[i],t.test(r.nodeName)&&(n[r.nodeName.replace(t,"")]=r.value);return n.entrypoint=n.entrypoint||u,n.namespace=n.namespace||p,n.fontbase=function(e){var t=e.environment||"production",n=e.assetbase||c[t];return e.fontbase&&"undefined"!==e.fontbase?n=e.fontbase:/[0-9a-f]{8}/.test(m)?n+="fonts_"+m+"/":n+="fonts/",n}(n),n.imagebase=function(e){var t=e.environment||"production",n=e.assetbase||c[t];return e.imagebase&&"undefined"!==e.imagebase?n=e.imagebase:/[0-9a-f]{8}/.test(g)?n+="images_"+g+"/":n+="images/",n}(n),n.assetbase=w(n),n}function S(e,t){var n,r={};function i(t,n,r){t[n]=function(){var e=Array.prototype.slice.call(arguments);t.push(r.concat(e)),t[n].args=e}}if(!function(){var e,t=!0;return"Microsoft Internet Explorer"===navigator.appName&&(e=navigator.userAgent,null!=new RegExp("MSIE ([5-8]{1,}[.0-8]{0,})").exec(e)&&(t=!1)),t}())return{err:"NOT SUPPORTED"};if(!(v=t||((n=function(){for(var e,t,n=s.document.getElementsByTagName("script"),r=n.length;r--;){if((t=n[r]).hasAttribute(l))return t;h.test(t.src)&&(e=t)}return e}())&&n.parentNode.removeChild(n),k(n))).assetbase)return{err:"NO ASSET BASE CONFIGURED"};var o=[{text:"window.SHR_FRAME = true;"},{text:"window.settings = "+JSON.stringify(v)+";"},{src:v.assetbase+v.entrypoint||"shrMain.min.js"}],a=e.document.createElement("link");return a.href=v.assetbase+v.entrypoint||"shrMain.min.js",a.rel="preload",a.as="script",a.crossOrigin="anonymous",e.document.head.appendChild(a),v.namespace===p&&(void 0===e.Shareaholic&&(e.Shareaholic=function(){}),e.Shareaholic.prototype.Bookmarklet=!0,e.Shareaholic.isV2=!0,e.Shareaholic.getPublisherConfig=_,i(e.Shareaholic,"init",["init"]),i(e.Shareaholic,"init_bookmarklet",["share",{service:"all"}]),function(e,t){var r=e.init;function n(n){_(t.environment||"production",n,function(e,t){s.publisherConfigLoaded=!0,r(n,t||{})}),e.init=function(){},d=n}t.siteid?n(t.siteid):e.init=n}(e.Shareaholic,v),r=e.Shareaholic),void 0===r.commands&&(r.commands=[]),void 0===r.push&&(r.push=function(e){r.commands.push(e)}),function(e){var t,n,r=!1;try{t=JSON.parse(localStorage.getItem("SHR_V2_OVERRIDES"))}catch(e){}return t&&t.script&&!window.SHR_OVERRIDE_MODE&&((n=document.createElement("script")).setAttribute("data-shr-assetbase",t.script.assetbase),n.setAttribute("data-shr-imagebase",t.script.imagebase),n.setAttribute("data-shr-fontbase",t.script.fontbase),n.setAttribute("data-shr-entrypoint",t.script.entrypoint),n.src=t.script.src,window.SHR_OVERRIDE_MODE=!0,b(e,function(){e.publisherConfigLoaded=!0,e.document.body.appendChild(n)}),r=!0),r}(e)?r.override=!0:b(e,function(){!function(t,n){var r=setInterval(function(){var e=document.getElementById(t);e.attributes["data-loaded"]&&"YES"===e.attributes["data-loaded"].nodeValue&&(e.contentWindow.SHR_FRAME||(clearInterval(r),e.parentNode.removeChild(e),S(s,n)))},1500)}(y(e,o,e.document.body).id,v)}),r}if(s.publisherConfigLoaded=s.publisherConfigLoaded||!1,s.SHR_FRAME&&"function"==typeof define&&define.amd)define("iframe",[],function(){return y});else{if((e=S(s)).err)return console.log("Unable to boot Shareaholic: "+e.err+". You can contact Shareaholic support for help at https://www.shareaholic.com/help/message");t=v.namespace||t,"[object Array]"===Object.prototype.toString.call(s[t])?(e.commands=s[t],s[t]=e):s[t]=s[t]||e}}(this),define("utils/hacks",["require","utils/globalObject","lodash"],function(e){var n=e("utils/globalObject"),r=e("lodash"),i=/(iphone|ipad|ipod)/gi;return{iosScrollFix:function(){var e,t={start:r.noop,stop:r.noop};return i.test(n.navigator.userAgent)&&(t={start:function(){0<(e=n.document.body.scrollTop)&&(n.document.body.scrollTop=0)},stop:function(){null!=e&&(n.document.body.scrollTop=e,e=null)}}),t}}}),define("canvas/ModalCanvas",["require","lodash","canvas/Canvas"],function(e){var i=e("lodash"),o=e("canvas/Canvas");function t(e,t){var n=this;function r(){return n._isAlive}o.apply(this,arguments),this._onDestroy=i.noop,this._isAlive=!0,this._notifyProducerClose=t.onClose,this._notifyProducerShow=t.onShow,this._notifyConsumerRequestClose=this.close,this.resizeStream=this.resizeStream.takeWhile(r),this.scrollStream=this.scrollStream.takeWhile(r)}return t.prototype=Object.create(o.prototype),i.assign(t.prototype,{constructor:t,_destroy:function(){this._onDestroy(),this.root.innerHTML="",this.root=void 0,this._notifyProducerClose=void 0,this._notifyProducerShow=void 0,this._isAlive=!1},requestClose:function(){this._notifyConsumerRequestClose()},show:function(){this._notifyProducerShow()},close:function(){this._emitter.emit("close"),this._notifyProducerClose()},onRequestClose:function(e){this._notifyConsumerRequestClose=e},onDestroy:function(e){this._onDestroy=e},enableHoveringMode:function(){}}),t}),define("text",[],function(){"use strict";return{version:"1.0.0",pluginBuilder:"requireText",load:function(e,t,n,r){var i;if(r&&r.isBuild)throw new Error("Do not use SHR text plugin during build!");0!==(i=t.toUrl(e+".js")).indexOf("empty:")?t([i],function(e){n(e)}):n()}}}),define("text!modal/standardModal.html",[],function(){return'<div class="shareaholic-standard-modal">\n  <div class="shareaholic-header">\n    <h3 class="title"></h3>\n    <i class="shareaholic-button fa fa-close shareaholic-close">&nbsp;</i>\n  </div>\n  <div class="shareaholic-content"></div>\n  <div class="shareaholic-footer">\n    <a class="shareaholic-logo" href="https://www.shareaholic.com" target="_blank"></a>\n    <a class="shareaholic-privacy" href="https://www.shareaholic.com/privacy" target="_blank">Privacy</a>\n  </div>\n</div>\n'}),define("text!css/modal.css",[],function(){return'\nhtml{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:bold}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{height:auto}input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid #c0c0c0;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:bold}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}\nhtml{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:bold}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{-moz-box-sizing:content-box;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type="checkbox"],input[type="radio"]{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:0}input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{height:auto}input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid #c0c0c0;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:bold}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}\n.shareaholic-whirl {\n  position: relative;\n}\n.shareaholic-whirl:before {\n  content: "";\n  z-index: 1;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: #999999;\n  opacity: 0.6;\n}\n.shareaholic-whirl:after {\n  z-index: 2;\n  content: "";\n  height: 40px;\n  width: 40px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: -20px 0 0 -20px;\n  -webkit-transition: all .75s ease 0s;\n  transition: all .75s ease 0s;\n  border-radius: 100%;\n  border-top: 4px solid #555555;\n  -webkit-animation: standard .75s infinite linear;\n  animation: standard .75s infinite linear;\n  -webkit-transform-origin: center;\n  -ms-transform-origin: center;\n  transform-origin: center;\n}\n.shareaholic-whirl.shareaholic-traditional:after {\n  border-right: 4px solid #777777;\n  border-top: 4px solid #777777;\n  border-left: 4px solid #999999;\n  border-bottom: 4px solid #bbbbbb;\n}\nhtml,body{width:100%;height:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;color:#000}*,*:before,*:after{-webkit-box-sizing:inherit;-moz-box-sizing:inherit;box-sizing:inherit}.shareaholic-canvasRoot{height:100%;overflow:hidden;position:absolute;top:-100%;width:100%;-webkit-transition:top 500ms;-moz-transition:top 500ms;-o-transition:top 500ms;-ms-transition:top 500ms;transition:top 500ms;-webkit-transition-timing-function:cubic-bezier(0,1,.5,1);-moz-transition-timing-function:cubic-bezier(0,1,.5,1);-o-transition-timing-function:cubic-bezier(0,1,.5,1);-ms-transition-timing-function:cubic-bezier(0,1,.5,1);transition-timing-function:cubic-bezier(0,1,.5,1);}.shareaholic-canvasRoot .shareaholic-standard-modal .shareaholic-content{height:auto}.shareaholic-canvasRoot.shareaholic-show{top:0}.shareaholic-canvasSpinner{display:none;position:fixed;top:0;left:0;width:100%;height:100%;}.shareaholic-canvasSpinner.shareaholic-whirl:before{background:transparent}.shareaholic-canvasSpinner.shareaholic-show{display:inherit}.shareaholic-standard-modal{font-family:\'helvetica neue\',arial,helvetica,sans-serif;color:#555;min-height:300px;height:380px;background:transparent;max-width:600px;min-width:300px;margin:0 auto 5px;border-radius:5px;position:relative;}.shareaholic-standard-modal.shareaholic-show{top:10%;}@media only screen and (max-width:600px){.shareaholic-standard-modal.shareaholic-show{position:absolute;top:0;bottom:0;left:0;right:0}}.shareaholic-standard-modal.shareaholic-medium-height{max-height:500px;}@media only screen and (max-width:600px){.shareaholic-standard-modal.shareaholic-medium-height{max-height:none}}.shareaholic-standard-modal a{color:#555;text-decoration:none}.shareaholic-standard-modal .shareaholic-header,.shareaholic-standard-modal .shareaholic-footer{font-size:12px;line-height:1.2;height:35px;background:#f5f5f5}.shareaholic-standard-modal .shareaholic-header{border-top:1px solid #d7d7d7;padding-left:10px;border-radius:5px 5px 0 0;text-align:center;}.shareaholic-standard-modal .shareaholic-header h3{display:inline-block;margin:9px 0}.shareaholic-standard-modal .shareaholic-header .shareaholic-widget{position:absolute;top:0;height:35px;right:45px}.shareaholic-standard-modal .shareaholic-header .shareaholic-button span{font-size:13px;position:relative;top:-1px}.shareaholic-standard-modal .shareaholic-header .shareaholic-button{position:absolute;top:0;height:35px;-webkit-box-shadow:inset 1px 0 0 rgba(255,255,255,0.5);box-shadow:inset 1px 0 0 rgba(255,255,255,0.5);font-size:20px;line-height:35px;padding:0 11px;}.shareaholic-standard-modal .shareaholic-header .shareaholic-button:hover{background:#eee;cursor:pointer}.shareaholic-standard-modal .shareaholic-header .shareaholic-close{right:0;cursor:pointer;border-left:1px solid #eee;border-radius:0 5px 0 0}.shareaholic-standard-modal .shareaholic-header .shareaholic-back{left:0;border-right:1px solid #ddd;border-radius:5px 0 0 0;width:65px;}.shareaholic-standard-modal .shareaholic-header .shareaholic-back span{margin-left:5px}.shareaholic-standard-modal .shareaholic-footer{height:44px;padding:16px 18px 0 18px;border-bottom:1px solid #d7d7d7;border-radius:0 0 5px 5px;width:100%;}.shareaholic-standard-modal .shareaholic-footer .shareaholic-logo{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;float:left;margin-top:-3px;background:url("<%= imagebase(\'logo_20px.png\') %>") 0 0 no-repeat;width:95px;height:20px;}@media only screen and (min-resolution:1.5dppx),only screen and (-webkit-min-device-pixel-ratio:1.5),only screen and (min--moz-device-pixel-ratio:1.5),only screen and (min-resolution:144dpi){.shareaholic-standard-modal .shareaholic-footer .shareaholic-logo{margin-top:-2px;background:url("<%= imagebase(\'logo_32px.png\') %>") 0 0 no-repeat;-webkit-background-size:95px 18px;-moz-background-size:95px 18px;background-size:95px 18px}}@media only screen and (max-width:600px){.shareaholic-standard-modal .shareaholic-footer .shareaholic-logo{width:20px}}.shareaholic-standard-modal .shareaholic-footer .shareaholic-privacy{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;float:right}.shareaholic-standard-modal .spacer{height:100%;padding-bottom:79px}.shareaholic-standard-modal .shareaholic-content{padding:5px 18px;overflow-y:auto;-webkit-overflow-scrolling:touch;background:#fff;height:100%;}.shareaholic-standard-modal .shareaholic-content.shareaholic-no-scroll{overflow-y:hidden}.shareaholic-flexbox .shareaholic-standard-modal{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:vertical;-moz-box-orient:vertical;-o-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:calc(90% - 5px);}.shareaholic-flexbox .shareaholic-standard-modal .shareaholic-header{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:0 0 35px;-ms-flex:0 0 35px;flex:0 0 35px}.shareaholic-flexbox .shareaholic-standard-modal .shareaholic-footer{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:0 0 44px;-ms-flex:0 0 44px;flex:0 0 44px;-ms-flex-preferred-size:30px}.shareaholic-flexbox .shareaholic-standard-modal .shareaholic-content{height:auto;}@media only screen and (max-width:600px){.shareaholic-flexbox .shareaholic-standard-modal .shareaholic-content{height:100%}}@media only screen and (max-width:600px){.shareaholic-flexbox .shareaholic-standard-modal{height:100%}}'}),define("modal/ModalController",["require","when","most","lodash","utils/featureDetect","utils/dom","utils/globalObject","iframe","utils/settings","utils/hacks","canvas/ModalCanvas","text!./standardModal.html","text!css/modal.css"],function(e){var a=e("when"),r=e("most"),i=e("lodash"),t=e("utils/featureDetect"),s=e("utils/dom"),o=e("utils/globalObject"),l=e("iframe"),c=e("utils/settings"),n=e("utils/hacks"),u=e("canvas/ModalCanvas"),h=e("text!./standardModal.html"),d=e("text!css/modal.css"),p=["//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css"],f=n.iosScrollFix();function m(e,t,n){n=n||{},i.defaults(n,{resizeStream:r.never(),scrollStream:r.never(),assetbase:c.assetbase}),this._root=e,this._iframe=t,this._document=o.document,this._locked=!1,this._pendingRequests=[],this._resizeStream=n.resizeStream,this._scrollStream=n.scrollStream,this._assetbase=n.assetbase,this._iframeBody,this._modalFrame,this._canvasRoot,this._canvasSpinner,this._onKeyup=this._onKeyup.bind(this),this._onClick=this._onClick.bind(this)}return m.prototype={_loadCDNStyles:function(n){var r=this;i.each(p,function(e){if(null===n.querySelector('[href="'+e+'"]')){var t=r._document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),n.appendChild(t)}})},_addFeatureStyles:function(e){t.flexBox&&e.classList.add("shareaholic-flexbox"),t.touch()&&e.classList.add("shareaholic-touchable")},_getIframe:function(e){var t,n=a.defer(),r=this;return this._iframe?a(this._iframe):(t=l(o,"",e,function(){r._iframe=t,n.resolve(r._iframe)}),n.promise)},_getCanvasRoot:function(){var i=this;if(this._canvasRoot&&(this._canvasRoot.parentNode.removeChild(this._canvasRoot),this._canvasRoot=null),void 0===this._modalFrame){this._modalFrame=this._document.createElement("div");var o={visibility:"hidden",opacity:0,position:"fixed",width:"100%","z-index":1e7,background:"rgba(0,0,0,0.5)",top:0,left:0,right:0,bottom:0,overflow:"hidden"};for(var e in o){var t=o[e];this._modalFrame.style[e]=t}}return this._root.appendChild(this._modalFrame),this._modalFrame.classList.add("shareaholic_panel","shareaholic-ui"),this._getIframe(this._modalFrame).then(function(e){var t=a.defer();for(var n in i._iframeBody=e.contentWindow.document.body,i._addFeatureStyles(i._iframeBody),i._loadCDNStyles(i._iframeBody),s.ensureStyles("modalstyles",d,i._iframeBody),o={"z-index":2147483646,position:"fixed",width:"100%",height:"100%",top:0,left:0,right:0,bottom:0,overflow:"scroll"}){var r=o[n];e.style[n]=r}return i._canvasRoot=i._document.createElement("div"),i._canvasRoot.setAttribute("id","canvasRoot"),i._canvasRoot.setAttribute("class","shareaholic-canvasRoot"),void 0===i._canvasSpinner&&(i._canvasSpinner=i._document.createElement("div"),i._canvasSpinner.setAttribute("id","canvasSpinner"),i._canvasSpinner.setAttribute("class","shareaholic-canvasSpinner shareaholic-whirl shareaholic-traditional")),i._iframeBody.appendChild(i._canvasSpinner),i._iframeBody.appendChild(i._canvasRoot),e.style.display="",i._hideModalContent(),setTimeout(function(){t.resolve(i._canvasRoot)},1),t.promise})},_renderNextModal:function(){var e=this._pendingRequests.pop();e?e.resolve(this._generateCanvas()):(this._locked=!1,this._hideModalFrame())},_hideModalFrame:function(){this._document.removeEventListener("keyup",this._onKeyup),this._iframeBody.removeEventListener("click",this._onClick);for(var e=this._iframeBody.querySelectorAll(".shareaholic-standard-modal"),t=0;t<e.length;t++)e[t].classList.remove("shareaholic-medium-height");this._modalFrame.style.opacity="0",this._modalFrame.style.visibility="hidden",this._iframe.style.display="none"},_showModalFrame:function(){this._document.addEventListener("keyup",this._onKeyup),this._iframeBody.addEventListener("click",this._onClick),this._modalFrame.style.opacity="1",this._modalFrame.style.visibility="visible",this._iframe.style.display=""},_onKeyup:function(e){27===e.keyCode&&this._canvas.requestClose()},_onClick:function(e){for(var t=e.target,n=t,r=!1;null!==n;){if(n===this._canvasRoot){r=!0;break}n=n.parentElement}r&&!t.classList.contains("shareaholic-close")||this._canvas.requestClose()},_showModalContent:function(){f.start(),this._canvasSpinner.classList.remove("shareaholic-show"),this._canvasRoot.classList.add("shareaholic-show");for(var e=this._iframeBody.querySelectorAll(".shareaholic-standard-modal"),t=0;t<e.length;t++)e[t].classList.add("shareaholic-show")},_hideModalContent:function(){f.stop();for(var e=this._iframeBody.querySelectorAll(".shareaholic-standard-modal"),t=0;t<e.length;t++)e[t].classList.remove("shareaholic-show");this._canvasRoot.classList.remove("shareaholic-show"),this._canvasSpinner.classList.add("shareaholic-show")},_generateCanvas:function(){var t=this;return this._getCanvasRoot().then(function(e){return t._canvas=new u(e,{resizeStream:this._resizeStream,scrollStream:this._scrollStream,onClose:function(){t._hideModalContent(),t._hideModalFrame(),t._canvas._destroy(),t._renderNextModal(),t=void 0},onShow:function(){t._showModalContent()}}),t._showModalFrame(),a(t._canvas).delay(100)})},requestCanvas:function(){var e;return this._locked?(e=a.defer(),this._pendingRequests.push(e),e.promise):(this._locked=!0,this._generateCanvas())},requestBorderCanvas:function(i,o){return o=o||{},this.requestCanvas().then(function(e){var t,n,r=e.root;if(i=i||"",r.innerHTML=h,"medium"===o.height)for(t=r.querySelectorAll(".shareaholic-standard-modal"),n=0;n<t.length;n++)t[n].classList.add("shareaholic-medium-height");if(o.noScroll)for(t=r.querySelectorAll(".shareaholic-standard-modal .shareaholic-content"),n=0;n<t.length;n++)t[n].classList.add("shareaholic-no-scroll");else for(t=r.querySelectorAll(".shareaholic-standard-modal .shareaholic-content"),n=0;n<t.length;n++)t[n].classList.remove("shareaholic-no-scroll");return o.entireModal?e.root=r:e.root=r.querySelector(".shareaholic-content"),r.querySelector(".title").textContent=i,e})}},m}),define("data/SettingsScraper",["require","lodash","URIjs/URI"],function(e){var i=e("lodash"),o=e("URIjs/URI"),a=/^\s.+\{"apps":\{"share_buttons":\{"get_share_counts"/m,s=/^\s+Shareaholic\.Utils\.ajax\(\{(?:\r|\n|.)+\}\)$/m,l=/^\s+url: '(.+)',/gm,c=/^\s+data: \{ action: '(.+)', .+$/gm;return{getShareCountEndpoint:function(e){var n,t=e.querySelectorAll("script:not([src])");function r(e){var t,n;if(a.test(e))return t=s.exec(e),s.lastIndex=0,t&&(n=function(e){var t,n,r="";if(e)return t=l.exec(e),l.lastIndex=0,t&&2===t.length&&(r=t[1]),t=c.exec(e),c.lastIndex=0,t&&2===t.length&&(n=t[1]),(r=r&&new o(r))&&n&&r.search({action:n}),r.toString()}(t[0])),n}return i.find(t,function(e){var t=e.innerHTML;return n=r(t)}),n}}}),define("utils/TrackURL",["require","data/pageInfo"],function(e){var o=e("data/pageInfo");return{trackURL:function(t){var n,e=window.parent.location.href,r=o.getPageCanonicalUrl().toString();function i(){var e=o.getPageCanonicalUrl().toString();e!==r?(r=e,t()):(n&&clearTimeout(n),n=setTimeout(i,250))}setInterval(function(){window.parent.location.href!==e&&(e=window.parent.location.href,i())},500)}}}),define("analytics/Analytics",["require","utils/dom","utils/logger","utils/globalObject","URIjs/URI","utils/settings","data/pageInfo","utils/trackVisitor","lodash"],function(e){var t=e("utils/dom"),s=e("utils/logger"),a=e("utils/globalObject"),l=e("URIjs/URI"),c=e("utils/settings"),u=e("data/pageInfo"),h=e("utils/trackVisitor"),n=e("lodash"),r=a.location.protocol;function d(t){t.u;var e,n=c.endpoints.go;return(t=Object.assign({a:1,r:1,u:""},t)).u,Object.keys(t).forEach(function(e){return(void 0===t[e]||null===t[e])&&delete t[e]}),(e=new l(n)).protocol(r),e.addQuery(t),e.toString()}function i(e,t){t=Object.assign({allowAnalytics:!0},t),this.allowAnalytics=t.allowAnalytics,this.allowAnalytics&&(this._gaTracker=e,this._gaTracker.init())}return s=s.child({name:"Analytics",color:"#216C2A"}),i.prototype={firePixel:function(e){t.appendPixel(e)},_runTracker:function(){var e=Array.prototype.slice.call(arguments);if(this.allowAnalytics&&this._gaTracker&&e.length){var t=e[0];this._gaTracker[t].apply(this._gaTracker,n.rest(e))}},recommendationClick:function(e,t,n,r){var i=r?"spc":"rc";return this.adClick(e,t,n,r,i)},adImpression:function(e,t,n,r,i,o){s.log("ad impression",arguments);var a=d({a:7,r:2,p:t,c:r,o:n,u:e,channel:i||"default"});return o||this.firePixel(a),a},adClick:function(e,t,n,r,i){s.log("ad click url: %s, plan: %s, content: %s, campaign: %s",e,t,n,r);var o={a:4,r:r?3:1,p:t,c:r,o:n,u:e,channel:i||"default"};return"display"===i?this._runTracker("usage","Display Ad","Click Display Ad Link",a.location.host):r?this._runTracker("usage","Recommendations_v2","Click Sponsored Recommendation Link",a.location.host):this._runTracker("usage","Recommendations_v2","Click Organic Recommendation Link",a.location.host),d(o)},recommendationImpression:function(e,t,n,r,i){var o=r?"spc":"rc";return this.adImpression(e,t,n,r,o,i)},recommendationImpressionTotals:function(e,t){s.log("Logging impression totals organic: %s sponsored %s",e,t),this._runTracker("usage","Recommendations_v2","Display Sponsored Recommendation Links",a.location.host,t),this._runTracker("usage","Recommendations_v2","Display Organic Recommendation Links",a.location.host,e)},recommendationView:function(e,t,n,r,i){s.log("recommendation view",arguments);var o=d({a:11,r:2,p:t,c:r,u:e,o:n});return i||this.firePixel(o),o},shareClick:function(e,t){this._gaTracker&&(this._gaTracker.socialInteraction(e,t),this.shareComplete())},_fireSHRPageView:function(e){if(!this.allowAnalytics||u.isPreviewPage())return!1;var t=u.getPageInfo(),n=t.canonicalUrl,r=t.lang,i=h.getVisitorMetrics(c.apiKey),o={},a=new l(c.endpoints.analytics_pageview);return o.a=8,o.id_sync=c.uuid,o.referrer=t.referrer,n&&(o.canon=n),void 0!==r&&(o.cl=r),(c.e_cookie_enc||c.e_enc)&&(o.ee=c.e_cookie_enc||c.e_enc),!o.ee&&c.e_hash&&(o.e=c.e_hash),c.siteid&&(o.site=c.siteid),i.numberOfPageViews&&(o.pvs=i.numberOfPageViews),navigator.sendBeacon||(a.addQuery(o),o={}),e.get({type:"pageview",url:a.toString(),query:o})},pageView:function(e){var t=u.getPageInfo();if(a.Shareaholic&&a.Shareaholic.isV2&&!t.hasEmailAddressInURL){s.log("pageview");var n=this._fireSHRPageView(e);return this._runTracker("pageView"),n}},shareComplete:function(){s.log("Share Complete"),this._runTracker("shareComplete",a.location.host)},postShareShown:function(){s.log("Post Share Dialog Shown"),this._runTracker("postShareShown",a.location.host)}},i}),define("analytics/Google",["require","utils/globalObject","utils/dom","utils/settings","utils/logger"],function(e){var t,i,n,r,o=e("utils/globalObject"),a=e("utils/dom"),s=e("utils/settings"),l=e("utils/logger"),c="analytics.js",u={};function h(t,e){var n=e.name,r=e.id,i=e.settings||{};if(t=i.name||t,!r||!t)throw new TypeError("Missing required fields for GA tracker "+n);return l.log("creating tracker %s id: %s UA: %s",n,t,r),i.name=t,o.__shrTracker("create",r,i),o.__shrTracker(i.name+".set","useBeacon",!0),function(){var e=Array.prototype.slice.call(arguments);e[0]=t+"."+e[0],o.__shrTracker.apply(o.__shrTracker,e)}}return l=l.child({name:"ga",color:"#156aeb"}),s.debug&&(c="analytics_debug.js"),{init:(r=!1,function(){r||(r=!0,o.__shrTracker||(l.log("initializing Google Analytics"),function(e){var t=e.GoogleAnalyticsObject?e[e.GoogleAnalyticsObject]:null;if(t)e.__shrTracker=t;else{var n="";"file:"===e.location.protocol.toString()&&(n="https:");var r="(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','"+n+"//www.google-analytics.com/"+c+"','__shrTracker');";s.google_analytics.trace&&(e.ga_debug=e.ga_debug||{},e.ga_debug.trace=!0),a.appendScriptTag(r)}e.__shrTracker}(o)),function(){var e=s.google_analytics.trackers;h("shr",e.shr),t=l.log,i=l.log,n=h("shr_post_share",e.shr_post_share)}())}),createTracker:function(e,t,n){"social"===e?t in u?l.log(t+" already created"):u[t]=h(t,n):l.log("unsupported tracker type "+e)},usage:function(e,t,n,r){i("send","event",e,t,n,r)},pageView:function(){t("send","pageview",{page:o.location.hostname})},socialInteraction:function(t,n){Object.keys(u).forEach(function(e){(0,u[e])("send","social",t,"share",n)})},shareComplete:function(e){n("send","event","share","click share button",e)},postShareShown:function(e){n("send","event","share","open post-share dialog",e)}}}),define("utils/rsa/jsbn",[],function(){var e;function b(e,t,n){null!==e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function y(){return new b(null)}e="Microsoft Internet Explorer"===navigator.appName?(b.prototype.am=function(e,t,n,r,i,o){for(var a=32767&t,s=t>>15;0<=--o;){var l=32767&this[e],c=this[e++]>>15,u=s*l+c*a;i=((l=a*l+((32767&u)<<15)+n[r]+(1073741823&i))>>>30)+(u>>>15)+s*c+(i>>>30),n[r++]=1073741823&l}return i},30):"Netscape"!==navigator.appName?(b.prototype.am=function(e,t,n,r,i,o){for(;0<=--o;){var a=t*this[e++]+n[r]+i;i=Math.floor(a/67108864),n[r++]=67108863&a}return i},26):(b.prototype.am=function(e,t,n,r,i,o){for(var a=16383&t,s=t>>14;0<=--o;){var l=16383&this[e],c=this[e++]>>14,u=s*l+c*a;i=((l=a*l+((16383&u)<<14)+n[r]+i)>>28)+(u>>14)+s*c,n[r++]=268435455&l}return i},28),b.prototype.DB=e,b.prototype.DM=(1<<e)-1,b.prototype.DV=1<<e;b.prototype.FV=Math.pow(2,52),b.prototype.F1=52-e,b.prototype.F2=2*e-52;var t,n,r="0123456789abcdefghijklmnopqrstuvwxyz",c=[];for(t="0".charCodeAt(0),n=0;n<=9;++n)c[t++]=n;for(t="a".charCodeAt(0),n=10;n<36;++n)c[t++]=n;for(t="A".charCodeAt(0),n=10;n<36;++n)c[t++]=n;function l(e){return r.charAt(e)}function i(e){var t=y();return t.fromInt(e),t}function w(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function o(e){this.m=e}function a(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}return o.prototype.convert=function(e){return e.s<0||0<=e.compareTo(this.m)?e.mod(this.m):e},o.prototype.revert=function(e){return e},o.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},o.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},o.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},a.prototype.convert=function(e){var t=y();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&0<t.compareTo(b.ZERO)&&this.m.subTo(t,t),t},a.prototype.revert=function(e){var t=y();return e.copyTo(t),this.reduce(t),t},a.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),0<=e.compareTo(this.m)&&e.subTo(this.m,e)},a.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},a.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},b.prototype.copyTo=function(e){for(var t=this.t-1;0<=t;--t)e[t]=this[t];e.t=this.t,e.s=this.s},b.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,0<e?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},b.prototype.fromString=function(e,t){var n;if(16===t)n=4;else if(8===t)n=3;else if(256===t)n=8;else if(2===t)n=1;else if(32===t)n=5;else{if(4!==t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var r,i,o=e.length,a=!1,s=0;0<=--o;){var l=8===n?255&e[o]:(r=o,void 0,null===(i=c[e.charCodeAt(r)])?-1:i);l<0?"-"===e.charAt(o)&&(a=!0):(a=!1,0===s?this[this.t++]=l:s+n>this.DB?(this[this.t-1]|=(l&(1<<this.DB-s)-1)<<s,this[this.t++]=l>>this.DB-s):this[this.t-1]|=l<<s,(s+=n)>=this.DB&&(s-=this.DB))}8===n&&0!=(128&e[0])&&(this.s=-1,0<s&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),a&&b.ZERO.subTo(this,this)},b.prototype.clamp=function(){for(var e=this.s&this.DM;0<this.t&&this[this.t-1]===e;)--this.t},b.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;0<=n;--n)t[n+e]=this[n];for(n=e-1;0<=n;--n)t[n]=0;t.t=this.t+e,t.s=this.s},b.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},b.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,a=Math.floor(e/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;0<=n;--n)t[n+a+1]=this[n]>>i|s,s=(this[n]&o)<<r;for(n=a-1;0<=n;--n)t[n]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()},b.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&o)<<i,t[a-n]=this[a]>>r;0<r&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}},b.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:0<r&&(t[n++]=r),t.t=n,t.clamp()},b.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;0<=--i;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!==e.s&&b.ZERO.subTo(t,t)},b.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;0<=--n;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}0<e.t&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},b.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!==t&&t.fromInt(0),void(null!==n&&this.copyTo(n));null===n&&(n=y());var o=y(),a=this.s,s=e.s,l=this.DB-w(r[r.t-1]);0<l?(r.lShiftTo(l,o),i.lShiftTo(l,n)):(r.copyTo(o),i.copyTo(n));var c=o.t,u=o[c-1];if(0!==u){var h=u*(1<<this.F1)+(1<c?o[c-2]>>this.F2:0),d=this.FV/h,p=(1<<this.F1)/h,f=1<<this.F2,m=n.t,g=m-c,v=null===t?y():t;for(o.dlShiftTo(g,v),0<=n.compareTo(v)&&(n[n.t++]=1,n.subTo(v,n)),b.ONE.dlShiftTo(c,v),v.subTo(o,o);o.t<c;)o[o.t++]=0;for(;0<=--g;){var _=n[--m]===u?this.DM:Math.floor(n[m]*d+(n[m-1]+f)*p);if((n[m]+=o.am(0,_,n,g,0,c))<_)for(o.dlShiftTo(g,v),n.subTo(v,n);n[m]<--_;)n.subTo(v,n)}null!==t&&(n.drShiftTo(c,t),a!==s&&b.ZERO.subTo(t,t)),n.t=c,n.clamp(),0<l&&n.rShiftTo(l,n),a<0&&b.ZERO.subTo(n,n)}}},b.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return 0<(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)?this.DV-t:-t},b.prototype.isEven=function(){return 0===(0<this.t?1&this[0]:this.s)},b.prototype.exp=function(e,t){if(4294967295<e||e<1)return b.ONE;var n=y(),r=y(),i=t.convert(this),o=w(e)-1;for(i.copyTo(n);0<=--o;)if(t.sqrTo(n,r),0<(e&1<<o))t.mulTo(r,i,n);else{var a=n;n=r,r=a}return t.revert(n)},b.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16===e)t=4;else if(8===e)t=3;else if(2===e)t=1;else if(32===e)t=5;else{if(4!==e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,i=!1,o="",a=this.t,s=this.DB-a*this.DB%t;if(0<a--)for(s<this.DB&&0<(n=this[a]>>s)&&(i=!0,o=l(n));0<=a;)s<t?(n=(this[a]&(1<<s)-1)<<t-s,n|=this[--a]>>(s+=this.DB-t)):(n=this[a]>>(s-=t)&r,s<=0&&(s+=this.DB,--a)),0<n&&(i=!0),i&&(o+=l(n));return i?o:"0"},b.prototype.negate=function(){var e=y();return b.ZERO.subTo(this,e),e},b.prototype.abs=function(){return this.s<0?this.negate():this},b.prototype.compareTo=function(e){var t=this.s-e.s;if(0!==t)return t;var n=this.t;if(0!==(t=n-e.t))return this.s<0?-t:t;for(;0<=--n;)if(0!=(t=this[n]-e[n]))return t;return 0},b.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+w(this[this.t-1]^this.s&this.DM)},b.prototype.mod=function(e){var t=y();return this.abs().divRemTo(e,null,t),this.s<0&&0<t.compareTo(b.ZERO)&&e.subTo(t,t),t},b.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new o(t):new a(t),this.exp(e,n)},b.ZERO=i(0),b.ONE=i(1),{BigInteger:b}}),define("utils/rsa/rng",[],function(){function e(){this.set_rng_pool()}function t(){this.i=0,this.j=0,this.S=[]}function n(){return new t}return e.prototype.rng_state=null,e.prototype.rng_pool=null,e.prototype.rng_pptr=null,e.prototype.rng_psize=256,e.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=this.nextByte()},e.prototype.nextByte=function(){if(null===this.rng_state||void 0===this.rng_state){for(this.rng_state=n();this.rng_pptr<this.rng_psize;){var e=Math.floor(65536*Math.random());this.rng_pool[this.rng_pptr++]=255&e}for(this.rng_state.init(this.rng_pool),this.rng_pptr=0;this.rng_pptr<this.rng_pool.length;++this.rng_pptr)this.rng_pool[this.rng_pptr]=0;this.rng_pptr=0}return this.rng_state.next()},e.prototype.set_rng_pool=function(){if(null===this.rng_pool||void 0===this.rng_pool){var e;if(this.rng_pool=[],this.rng_pptr=0,window.crypto&&window.crypto.getRandomValues){var t=new Uint32Array(256);for(window.crypto.getRandomValues(t),e=0;e<t.length;++e)this.rng_pool[this.rng_pptr++]=255&t[e]}function n(e){if(this.count=this.count||0,256<=this.count||256<=this.rng_pptr)window.removeEventListener?window.removeEventListener("mousemove",n,!1):window.detachEvent&&window.detachEvent("onmousemove",n);else try{var t=e.x+e.y;this.rng_pool[this.rng_pptr++]=255&t,this.count+=1}catch(e){}}window.addEventListener?window.addEventListener("mousemove",n,!1):window.attachEvent&&window.attachEvent("onmousemove",n)}},e.prototype.prng_newstate=n,t.prototype.init=function(e){var t,n,r;for(t=0;t<256;++t)this.S[t]=t;for(t=n=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,r=this.S[t],this.S[t]=this.S[n],this.S[n]=r;this.i=0,this.j=0},t.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]},{SecureRandom:e}}),define("utils/rsa/rsa",["utils/rsa/jsbn","utils/rsa/rng"],function(s,l){function e(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return e.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},e.prototype.setPublic=function(e,t){null!=e&&null!=t&&0<e.length&&0<t.length&&(this.n=new s.BigInteger(e,16),this.e=parseInt(t,16))},e.prototype.encrypt=function(e){if(!e)return null;var t=function(e,t){if(t<e.length+11)return null;for(var n=[],r=e.length-1;0<=r&&0<t;){var i=e.charCodeAt(r--);i<128?n[--t]=i:127<i&&i<2048?(n[--t]=63&i|128,n[--t]=i>>6|192):(n[--t]=63&i|128,n[--t]=i>>6&63|128,n[--t]=i>>12|224)}n[--t]=0;for(var o=new l.SecureRandom,a=[];2<t;){for(a[0]=0;0===a[0];)o.nextBytes(a);n[--t]=a[0]}return n[--t]=2,n[--t]=0,new s.BigInteger(n)}(e,this.n.bitLength()+7>>3);if(!t)return null;var n=this.doPublic(t);if(!n)return null;var r=n.toString(16);return 0==(1&r.length)?r:"0"+r},{RSAKey:e}}),define("utils/hashFinder",["require","lodash","utils/cookies","data/publisherConfig","utils/settings","utils/globalObject","data/pageInfo","utils/logger","utils/rsa/rsa"],function(e){var r,t=e("lodash"),i=e("utils/cookies"),n=e("data/publisherConfig"),o=e("utils/settings"),a=e("utils/globalObject"),s=e("data/pageInfo"),l=e("utils/logger").child({name:"SHR_E",color:"rebeccapurple"}),c=new(e("utils/rsa/rsa").RSAKey);c.setPublic("951c893464c05bb87b06616bef2a168603070b8c3c45b33d02b8145624545ad6fc294fd22cc78193dcedcfb20def7e35ff8110c531fa9c2630e658f3b0b7fd03a801a0ce7c37cb708c648fe6314c2248b65e2a72817f64afcb995c8f26d18e53197b29b88f00787e35365316827f0a2cb0661606c9c1a5b3f0856c43ef815210df2ac34daab7a887cf1ccff3f06aeca6580c90623ad0a8952deb38f06b9afdbce3482165080de35309cbab317ad6bba93430dfa7f9d63efb8825e551e19e55eae7f0b901ae9ce3cf38db496b2eedee450d62baefcc0160e7e12f0c2c0a4bb10c6241456cb23611c9c6df3394454579fba00ce1adc5f3c7c72852356cca356133","10001"),r=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;var u=t.filter(["input:not([type])","input[type=text]","input[type=email]","textarea"],function(e){try{return document.body.querySelectorAll(e),!0}catch(e){return!1}});function h(){n.getXDeviceConfig().then(function(e){if(e.enabled){var t=i.get("_shr_ue");try{var n=a.atob(t).toLowerCase().replace(" ","");r.test(n)&&d(n)}catch(e){}setInterval(function(){f(a.document.body).concat(function(e){var t=[];if(e)for(var n=e.querySelectorAll("iframe"),r=0;r<n.length;r++){var i=n[r];if(-1===m.indexOf(i))try{t=t.concat(f(i.contentWindow.document.body))}catch(e){m.push(i)}}return t}(a.document.body)).forEach(function(e){e.emlListener||(e.emlListener=!0,e.addEventListener?e.addEventListener("blur",p):e.attachEvent&&e.attachEvent("focusout",p))})},100)}else l.log("Disabled!")})}function d(e){var t=c.encrypt(e),n=s.getPageInfo();i.set("SHR_E_ENC",t,{expires:31536e4,domain:n.domain,path:"/"}),i.get("SHR_E_ENC")||i.set("SHR_E_ENC",t,{expires:31536e4,path:"/"}),o.e_cookie_enc=t}function p(e){var t=e.target,n=((window.node=t).value||"").match(/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi);n&&n.forEach(function(e){e=e.toLowerCase().replace(" ",""),r.test(e)&&d(e)})}function f(e){var t=[];if(e)for(var n=e.querySelectorAll(u.join(", ")),r=0;r<n.length;r++)t[r]=n[r];return t}var m=[];return{run:function(){h()}}}),define("shrMain",["require","es6-object-assign","utils/profiler","utils/CanvasResolver","data/publisherConfig","apps/index","utils/helperFunctions","utils/globalObject","utils/trackVisitor","data/DataStore","utils/dom","modal/ModalController","data/SettingsScraper","data/pageInfo","utils/settings","utils/localStore","utils/TrackURL","analytics/Analytics","analytics/Google","analytics/ErrorLogger","utils/utils","utils/hashFinder","utils/logger"],function(e){e("es6-object-assign").polyfill();var i,o,t,a=e("utils/profiler"),n=e("utils/CanvasResolver"),r=e("data/publisherConfig"),s=e("apps/index"),l=e("utils/helperFunctions"),c=e("utils/globalObject"),u=e("utils/trackVisitor"),h=e("data/DataStore"),d=e("utils/dom"),p=e("modal/ModalController"),f=e("data/SettingsScraper"),m=e("data/pageInfo"),g=e("utils/settings"),v=e("utils/localStore"),_=e("utils/TrackURL"),b=e("analytics/Analytics"),y=e("analytics/Google"),w=e("analytics/ErrorLogger"),k=e("utils/utils"),S=l.deepMerge(c._SHR_SETTINGS||{},c._SHR_SETTINGS_CUSTOM||{}),x=v.getObject("SHR_V2_OVERRIDES")||{},R=c.Shareaholic,E=null!==R,j=e("utils/hashFinder"),C=new b(y,{allowAnalytics:E}),I=e("utils/logger").child({name:"main",color:"darkblue"}),O=!1,A={},U=window.frameElement,T=new p(d.uiDOM("body"),U);if(R=R||{},w.bindOnError(),w.bindRequireJSError(),S.endpoints&&(g.endpoints.share_count=S.endpoints.share_counts_url,g.endpoints.local_recs_url=S.endpoints.local_recs_url||g.endpoints.local_recs_url,g.endpoints.local_plugin_info_url=g.endpoints.local_recs_url.split("admin-ajax.php?")[0]+"admin-ajax.php?action=shareaholic_sdk_info"),g.url_components=S.url_components||{},g.endpoints.share_count=g.endpoints.share_count||f.getShareCountEndpoint(d.uiDOM("html")),g.apiKey=g.apikey||g.apiKey||R.SITE_ID||g.siteid,void 0===g.apiKey||null===g.apiKey||g.apiKey.trim&&""===g.apiKey.trim()){if(!g.apiKey){var M=d.uiDOM('meta[name="shareaholic:site_id"]');M&&(g.apiKey=M.getAttribute("content").trim())}g.apiKey||(S.site_id?g.apiKey=S.site_id:g.apiKey="00000"),R.init(g.apiKey)}if(i=new n,t=(o=new h(g,m.getPageInfo(c))).validateConfig(),r.setDataStore(o),r.setBookmarkletOverrides(x),!t.valid)return I.error("DataStore config is invalid!"),I.error(t),void w.error("critical","DataStore",t);function q(e){if(O)I.log("Starting the application can only happen once.");else{if(O=!0,r.setSiteId(g.apiKey),r.setConfig(e),"dev"===k.getEnvironment()&&o.get({type:"userInfo"}).then(function(e){c.Shareaholic.user_info=e}),r.getMergedConfig().then(function(e){c.Shareaholic.page_config=function(){return e},e.analytics_ga_enabled&&e.analytics_ga_id&&y.createTracker("social","pub_social",{name:"pub_social",id:e.analytics_ga_id})}),null===d.uiDOM('meta[name="shareaholic:site_id"]')&&e.api_key){var t=c.document.createElement("meta");t.setAttribute("name","shareaholic:site_id"),t.setAttribute("content",e.api_key),d.appendToUiDom(t,"head")}r.getAppConfigs().then(function(e){e=l.transformObject(e,function(e,t,n){return t.enabled?e[n]=t:I.log(n+" is disabled"),e}),a.logTime("Starting SDK"),I.log("SDK starting apps: "+l.keys(e).join(","));var r={};l.eachObject(e,function(e,t){var n=s.queryForConfig(t,e,m);n||!s.isScriptApp(t)?n?(I.log("rendering "+t),a.logTime("rendering "+t),i.onCanvas(n,function(e){a.logTime("Got canvas for "+t),s.startApp(t,e,o,T,C)})):I.log("no query for "+t):r[t]=e}),l.eachObject(r,function(e,t){s.loadScript(t,e,m)})}),j.run()}}A.init=function(e){var t=e[0],n=e[1];I.log("Starting SDK with key "+t),n&&I.log("Already have publisher config",n),g.apiKey=t,g.apiKey&&!n?c.Shareaholic.getPublisherConfig(k.getEnvironment(),t,function(e,t){q(t||{})}):q(n)},d.ready(function(){g.debug&&(C.allowAnalytics=!0),u.track(g.apiKey),C.pageView(o);var e=setInterval(function(){c.publisherConfigLoaded&&(clearInterval(e),s.addPublicApiHandler(c,g.namespace,m.getPageInfo(c),o,T,C,A))},10);_.trackURL(function(){u.track(g.apiKey),C.pageView(o);var e=window.parent.document.getElementById("shr-partners");e&&e.parentNode.removeChild(e),r.getAppConfigs().then(function(e){e=l.transformObject(e,function(e,t,n){return t.enabled&&(e[n]=t),e}),l.eachObject(e,function(e,t){!s.queryForConfig(t,e,m)&&s.isScriptApp(t)&&"partners"===t&&s.loadScript(t,e,m)})})})})});var URIJS_SRC="https://cdnjs.cloudflare.com/ajax/libs/URI.js/1.17.0/",URIJS_BUILD="URI",URIJS=URIJS_SRC+URIJS_BUILD;requirejs.config({baseUrl:window.settings.assetbase,waitSeconds:0,enforceDefine:!0,shim:{angular:{exports:"angular"}},attributes:{angular:{crossorigin:"anonymous"},lodash:{crossorigin:"anonymous"},most:{crossorigin:"anonymous"},"URIjs/URI":{crossorigin:"anonymous"},"URIjs/punycode":{crossorigin:"anonymous"},"URIjs/IPv6":{crossorigin:"anonymous"},"URIjs/SecondLevelDomains":{crossorigin:"anonymous"},IPv6:{crossorigin:"anonymous"}},onNodeCreated:function(t,n,r,e){n.attributes&&n.attributes[r]&&Object.keys(n.attributes[r]).forEach(function(e){t.setAttribute(e,n.attributes[r][e])})},paths:{angular:"https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.5/angular.min",lodash:"https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.10.0/lodash.min",most:"https://cdnjs.cloudflare.com/ajax/libs/most/0.15.0/most.min",URI:URIJS,URIjs:URIJS,"URIjs/URI":URIJS,"URIjs/punycode":URIJS_SRC+"punycode.min","URIjs/IPv6":URIJS_SRC+"IPv6.min","URIjs/SecondLevelDomains":URIJS_SRC+"SecondLevelDomains.min",SecondLevelDomains:URIJS_SRC+"SecondLevelDomains.min",IPv6:URIJS_SRC+"IPv6.min",deps:["shrMain"]}}),define("loadCDNAssets",function(){}),define("shrMain",function(){}),require(["shrMain"]);